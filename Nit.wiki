Feel free to add new categories as necessary.

This is where you register features that are unimplemented or badly implemented in the new Qt dialogs

Features marked with {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} must be implemented before TortoiseHg 2.0 is out of beta.

== installer ==

* 64bit installer

== {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} bookmarks ==

* add/move/rename/remove (already present in TortoiseHg)
* bookmark selection for push/pull/incoming/outgoing (missing in TortoiseHg)

== repo registry ==

* make reordering of groups (along with their content) possible (in progress, Johan)

== General ==

* QTimer errors after revset queries or goto bar search
* limit the size (in MB) of the graph data cache.  Perhaps an LRU of revisions.
* Qsci tab stops suffer from off-by-one when showing diffs.  Might not be much we can do about it, beyond moving the +/- column into a margin.
* Qsci generic context menu to toggle wrap and white space visibility
* Fix tag use (Mercurial APIs return non-local tags in UTF-8)

== Workbench ==

* transplant to local changeset cmenu option
* Dragging of filenames does not work into Visual Studio (wrong URI type?)
* patch csinfo in revpanel should show path to patch
* Changeset file list menu, just like repository explorer
** visual diff file
** visual diff to local
** view at revision
** revert file to revision
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} MQ patches remaining work - see [[http://groups.google.com/group/thg-dev/browse_thread/thread/3c9dd639c1c54b58|discussion]]
** rename - should be easy
** fold - should be easy to implement. Could benefit from a dialog confirming what will be folded and a --keep option checkbox.
** delete - needs to use multi-select in the log.
** reorder - wire up qreorder dialog, improve it (working on this - Johan)
** Add support for multiple mq patch queues (hg qqueue).

== RevDetailsWidget ==

* investigate hgview's recent support for reST in changelog messages
* space-efficient diff viewer like one of hgtk
** combine RevMessage and HgFileView (diff view) so that RevMessage can be scrolled out; current diff view is too small. (i'm not convinced this would be an improvement, please discuss on list first - sjb)
** provide a way to show all diffs at once, like "[All Files]" of hgtk. - yuja

=={{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} Bisect Dialog ==

* Connect repoview clicks to dialog input events (must be non-modal, low priority)
* annotate graph with .hg/bisect.state (low priority)

== Manifest Viewer ==

* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} GOAL: merge functionality with revDetailsWidget

* context menu for: open in editor, file history, annotate, etc
** {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} right-clicking on files should allow a diff-to-parent for affected files only.
* interface to grep at revision
* Complete the annotate view with the hovering info as in the separate annotate dialog ?
* filter files by name.
* indicate affected folders by overlay icon or font style, like the 'Changes' column in the Gtk version.
* change filename color by status (see the status view).
* support 'unknown' and 'ignored' files for working copy.
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} subrepo?
* flat view for files list
* ability to show changeset description
* merge with annotate dialog? with optional filetree dock.

== Commit ==

* add support for tortoisehg.ciexclude
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} qnew/shelve-patch creation dialog (in another file)
* spell check
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} in-memory patching / committing chunk selected files
* hard crash after using details widget and committing

{{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} Safe chunk select / "move to patch" implementation:
# Teach hgshelve to parse non-git diffs, drop git diffs everywhere, detect binary/perm/copies ourselves
# When chunk select dialog is opened, record hash of raw contents
# When revert or "move to patch" is selected, re-read file and compare hash
# To revert chunks, backup file to "trashcan" with timestamp in name, revert contents then apply remaining chunks
# To "move to patch", revert then apply remaining, then do diff against original raw file > patch file

== Clone ==

* clone --pull's progress bars cause the dialog to grow horizontally dynamically.. ugh

== Update ==

* save to patch unimplemented (waiting for Qt patch library)

== Resolve ==

* Button sensitivity is not always correctly updated with selection status

== Search/grep ==

* No activity display, so can't tell it is actually searching. More controls should probably disable when searching.
* Should be able to cancel a search.

== Merge ==

* temporary patch name

== Settings ==

* unicode decode issues
* path validation for ui.editor and similar fields
* new generic extension registration
* more font settings
* new [color] page
* connect to thgrepo.configChanged and refresh
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} somehow edited lines contain ^M (CR) even on Unix; not always ?

== Email ==

* show output/progress by default
** I'm thinking of single-line status, which shows the current activity, e.g.  "Sending [PATCH 0/1] xxxx". Maybe I should provide more details, though. - yuja
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} bundle support
* threaded preview
* replace to/from/cc combo boxes with entry and [...] that opens address book style dialog
* perhaps changeset list could be in a second tab, before preview
* drag and drop revisions from RepoWidget to email dialog.

== Sync ==

* pass current URL to p4pending dialog
* ignore workbench button press events while widget is running another command
* auth save does not respect file's eoln (same as last settings nit)
* explore, terminal, etc context menu for paths trees
* parse output messages on success, get real counts for status messages
* keyring help

* Problem adding new keys to keyring on Mac, worked on command line
** This problem is bizarre, and may be local to my macbook (sjb).  I've verified we're passing the exact same arguments to osx_keychain.so as command line hg, but for some unknown reason the .so file cannot parse them.  It emits {{{password_set() must be called as (servicename,username,password)}}} and bails.  I've also verified hg and thg are using the exact same Python interpreter and osx_keychain.so location.  I'm not going to look any further unless I hear this is an issue on Windows or Unix.
** I've verified this is not a problem on Windows.  Control Panel -> User Accounts -> Credential Manager.  You'll see keys stored for Mercurial under "Generic Credentials".  I deleted my bitbucket credentials and was able to re-generate them by pushing from our sync tool.
** It also doesn't work on KDE (with KWallet). It looks threading issue. See
   http://bitbucket.org/tortoisehg/stable/issue/1437/gui-freeze-on-suse-linux-after-using

== Annotate ==

* In the gtk version there's a possibility to assign colors to the usernames in the changelog. Maybe those same colors could be used per user in the annotate window too ? And the colors in the annotate dialog for not configured users perhaps could be assigned with the same 'logic' as in the changelog ? That would be another bit of consistency in the product. I could also add an extra page to the setting dialog, for assigning colors to usernames ? I also see the hgqt changelog does not yet use those username color settings. I could look into that too ? (If you agree with the idea(s) Steve, I (Johan) am willing to give this a stab.) -- sjb sounds like a solid idea

* Better assignment of annotation colours:
** "collect all of the usernames in all of the revisions and assign them hue 0..7, so some users will share hues.  For each hue, you split the age range of revisions given that hue into quarters - giving you 32 colors."

* Replace HgView's annotator by thg's. Hook at fileview.HgFileView.

* support annotation of working copy (rev=None); needs changes on Mercurial-side.

== docklog (ConsoleWidget) ==

* command completion by TAB key
* command history by up/down key
* pager for long outputs
* sophisticated 'thg' command, e.g. 'thg grep' to switch task tab.
* accept ctrl+c for command termination
* delay repo switch while running command

== Rename dialog ==

* implement enhancements from issues 1124 + 1186
* enhancement #1604

== qtlib ==

* replace 'yellow' with some reasonable default, like 'lightbrown'
* pre-defined colors (like gtklib) (most colors will be user-configurable - steve)
* appropriate use of QApplication.setOverrideCursor(QtCore.Qt.WaitCursor)
* utilize QIcon.fromTheme() ?

== i18n ==

* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} Update i18n message catalog for PyQt port
* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} Fix possible unicode-related issues
* Need an encode fail dialog that prompts for an encoding, sets HGENCODING, then retries
* Need functions to convert between unicode<->UTF-8
* Content encoding for diff / annotate view; Maybe it has fallback list by locale, e.g. 'utf-8, cp932, euc-jp, iso-2022-jp' for ja_JP.

== usability ==

* Go through hglib and move applicable routines to thgrepo, fix hgqt usage
* Session management; QApplication::commitData()
* Enforce standard accelerators: http://doc.qt.nokia.com/4.6/accelerators.html
* Set coherent tab order in all dialogs:  http://doc.qt.nokia.com/4.7/focus.html
* More Mac OS X goodies: http://www.crossplatform.ru/?q=node/298

* Fonts
** I would like to have a really good way to change fonts in the TortoiseHg qt dialogs. Mostly for enlarging fonts, but in small steps, so each can find their own "best setting". All fonts means both for dialog fonts and for content widgets. This is necessary f.i. for people not having the good sight of a youngster anymore (like me). (Also because changing screen resolution and/or OS settings cannot solve everything.) I'm willing to help with this, of course. My reference for this is the NoSquint Firefox add-on ;-).
** SJB - I've started work on this.  Apps can get the user's configured font from qtlib and connect to a signal emitted when the font is changed.  The settings tool in turn will emit the signal when the user picks a new font and selects 'ok' in the font editor.  Two things need to happen:
## We must use this font interface consistently in all our tools
## Someone should look into connecting to the live updates that come out of the selection dialog

* Respect Windows font setting like modern apps:
  http://groups.google.co.jp/group/thg-dev/browse_thread/thread/5f9bb7141e4f66e3

== Documentation ==

* {{http://jira.atlassian.com/images/icons/newfeature.gif|2.0 blocker}} Update documentation