See **[[ReleaseNotes]]** for bugs fixed in previous releases.

= Changes since 3.1 =

Since 3.1, Mercurial commands are run in separate
[[http://mercurial.selenic.com/wiki/CommandServer|command server]] process.
It generally contributes to reliability, but if you have a faulty extension
or an in-process Python hook, it can corrupt the communication channel between
TortoiseHg and the command server.

If you see an error message like "cmdserver: timeout while reading...",
[[BugReport|please report it]] with the list of enabled third-party extensions
and their versions.  Currently, reviewboard extension is known to have this
issue. #3841

== Bug Fixes ==

* annotate: ignore double-click of margin next to the last line (fixes #3877)
* cmdcore: allow to change output device of null command session \\
  (fixes #3864 - RuntimeError on detect outgoing changes to empty path)
* filectxactions: do not try 3-way diff if p2 is explicitly selected \\
  (fixes #3854 - "Diff to parent" options only diff to the left parent)
* repomodel: make sure to render labels by using the same font as view
* status: do not set "remove filter" button as auto-default (fixes #3876)
* sync: outgoing {node} might be prefixed with white space \\
  (fixes #3872 - missing first outgoing node if authentication required)
* wctxcleaner: do not report branch change as dirty working directory \\
  (refs #3822 - allow backout, graft, merge and rebase onto new branch)
* win32ill: suppress KeyboardInterrupt while shutting down message-loop thread

== Improvements ==

* merge: add link to review a merge
* wctxactions: add "Edit Rejects" action that opens RejectsDialog (closes #3838)

== Installer ==

* update hg-git to XXX (fixes #3862 - SSH issue with git repos)

----

== Bug Fixes in Third-party Modules ==

Pygments (unreleased):
* [[https://bitbucket.org/birkenfeld/pygments-main/issue/891/|PrologLexer may freeze with triple backslashes]]

OpenSSL 1.0.1g:
* #3702 - Client Heartbleed vulnerability (possibly with libsvn_ra-1.dll)

QScintilla 2.8:
* Input methods are now properly supported

QScintilla 2.8.1:
* #3573 - Commit message input does not permit all unicode characters

Qt 4.8.6:
* #2300 - Workbench always opens on primary monitor when maximized

----

Random builds of the stable branch can be found at
**[[http://bitbucket.org/tortoisehg/thg-winbuild/downloads/|thg-winbuild]]**
