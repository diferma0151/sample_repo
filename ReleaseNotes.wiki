= Release Notes for TortoiseHg =

This wiki page contains last minute notes to users about the releases,
which may not be included in the documentation or README files included
with the distribution kits.  It also contains change information, for
users who are interested in what bugs have been fixed, and what features
have been added in the current version.

**Note that like TortoiseSVN, [[http://www.selenic.com/pipermail/mercurial/2010-January/029680.html|we recommend]] to to turn off the indexing service on the working copies and repositories, and exclude them from virus scans.**

<<toc>>

== Matching Versions ==

If you are using TortoiseHG from source, we recommend you use the most
recent stable releases of TortoiseHG and Mercurial together.  If you must use
an older version of Mercurial, please consult the following chart:

|= Mercurial Release |= TortoiseHg Release |
| <= 1.0 | 0.5 |
| 1.1.X | 0.6 |
| 1.2.X | 0.7.6 |
| 1.3.X | 0.8.n |
| 1.4.x | 0.9.n |
| 1.5.x | 1.0.n |
| 1.6.x | 1.1.n |
| 1.7.x | 1.1.9.1 |
| 1.8.x | 2.0.n |
| 1.9.x | 2.1.n |
| 2.0.x | 2.2.n |
| 2.1.x | 2.3.n |
| 2.2.x | 2.4.n |
| 2.3.x | 2.5.n |
| 2.4.x | 2.6.n |
| 2.5.x | 2.7.n |
| 2.6.x | 2.8.n |
| hg default tip | thg default tip |

----

= TortoiseHg 2.8 =

TortoiseHg 2.8 is a major feature release

== Bug Fixes ==

* commit: convert options string to a HTML string (fixes #2543)
* manifest: report invalid --line option as error instead of traceback
* repotreeitem: have RepoItem respond to EditRole (fixes #2550)
* repoview: disable hover effect of column header because it has no click action
* run: forcibly use bundled Qt plugins in frozen environment (fixes #2513)

* several GC fixes causing "C++ object has been deleted" (fixes #2554, #2564)

== Installer ==

* enable mercurial_keyring by default on Windows

= TortoiseHg 2.7.2 =

TortoiseHg 2.7.2 is a bug fix release with minor improvements

* Includes Mercurial 2.5.4

== Improvements ==

* annotate: group related context menu items
* annotate: 'Go to Original revision' on Ctrl+click or double click on margin
* commit: allow amending merge revisions when mercurial >= 2.6
* customtools: add 'workingdir' setting, {FILES} and {ALLFILES} variables
* customtools: add a "Custom Tools" submenu to the commit file context dialogs
* customtools: list available icons in setting dialog
* email: remember patch attachment (body, inline, attach) and diffstate options
* fileview: load selected text into searchbar when searchbar is shown
* graph: show graft relations (closes #2008)
* infobar: overlay infobar on top of revision graph (closes #2113)
* lexers: allow user configuration of lexers by file extension
* messageentry: make the lexer optional
* messageentry: improved "Apply Format" behavior
* qscilib: improve the multi-selection behavior
* repomodel: use monospace font for Node and Converted columns
* repofilter: add "Show/Hide hidden changesets" (and visual effect in graph)
* repofilter: better revset detection and visual effect (closes #2019)
* repofilter: remember working branch as special symbol (refs #2206)
* repofilter: show progress/error messages loudly in infobar (closes #344)
* repoview: add option to show full author name (closes #2434)
* repowidget: add menu to copy patch of multi-select to clipboard (closes #2504)
* repowidget: show the actual number of outgoing changesets
* revdetails: add revision details dialog
* settings: improved detection and selection of editor and terminal applications
* sync: add option to push without confirmation dialog (closes #190)
* workbench: allow clone dialog to be non-modal
* workbench: add combobox to select push/pull target
* workbench: don't display icons in menu on Mac OS X

== Bug Fixes ==

* backout: manage connection from CheckThread in C++ layer (fixes #2471)
* commit: make sure to drop untranslatable character (fixes #2475)
* filedata: prepend diff header only if diff text is not empty (fixes #2462)
* icons: include 8bit alpha channel and use 16x16 for system tray icon (fixes #2464)
* infobar: use lambda to replace hash-like string by subrepo link (fixes #2484)
* manifest: move to the specified line even if path isn't changed (fixes #2501)
* mergetools: add a beyondcompare3-noauto merge tool (fixes #2073)
* mergetools: fix kdiff3-noauto detection
* pyqt: fix incompatibility with PyQt 4.10 (ArchLinux and Fedora) (fixes #2467)
* postreview: accept non-ascii summary text (fixes #2476)
* repowidget: do not allow a revision to be merged with itself (fixes #2455)
* sync: reload the list of paths explicitly on edit or remove (fixes #2473)
* thg: cleanup sys.stdin when launched as thgw.exe (fixes #484)

== Improvements ==

* filedata: distinguish between file copies and file renames
* pyqt: make settings dialog work with PyQt 4.6 (CentOs 6.3)

----

= TortoiseHg 2.7.1 =

TortoiseHg 2.7.1 is a bug fix release with minor improvements

* Includes Mercurial 2.5.2

== Bug Fixes ==

* annotate: show annotate menu even if no character exists under mouse cursor
* branchop: fix unicode and localstr comparison of wctx branch (fixes #1288)
* chunks, fileview: delay force-display until mouse release (fixes #2427)
* commit: skip pygments parsing when auto-complete is disabled (fixes #2407)
* commit, status: don't eliminate too many chars from repo link (fixes #2401)
* fileview: disable strikeout of excluded chunks by default (refs #2442)
* mergetools: force a check of p4merge outputs (refs #2415)
* repofilter: increase number of max visible branches on Windows (closes #2262)
* reporegistry: don't normcase subrepo path to be added (fixes #2251)
* reporegistry: fix AttributeError on open all, sort and Del key with no selection
* shortcuts: remove conflicted key bind from "open subrepository" (fixes #2443)
* status: forget checked state only after pctx changed (fixes #2376)
* status: postpone overlapped refreshWctx() request (fixes #2406)
* sync: target selection should override tortoisehg.defaultpush (fixes #2411)
* several GC fixes causing "C++ object has been deleted" exception (fixes #2425)

== Improvements ==

* mergetools: improve Code Compare 3-way merge configuration
* graph: only show "visible" revisions (early support for evolution extension)
* postreview: enable reviewboard context menu for mq patches
* pyqt: make workbench and commit tool work with PyQt 4.6 (CentOs 6.3)

= TortoiseHg 2.7 =

TortoiseHg 2.7 is a major feature release.  Because of the amount of churn in
both TortoiseHg and Mercurial, we are taking the unusual step of shipping 2.7 with the tip of Mercurial's stable branch prior to their feature freeze for the 2.5 release.  TortoiseHg 2.7.1 will be shipped with 2.5.1

* Includes Mercurial version 7648b87e76dbf89c9cdfb7993c52479480ff43c7 (2.4.2 + fixes)

== Bug Fixes ==

* update: fix unicode error on confirmation of bookmarks (fixes #2341)
* repotreemodel: recover from missing <allgroup> element (closes #1075)
* repotreemodel: remove unsafe processEvents() during loadSubrepos() (fixes #2256)
* status: respect filter text when the file list is refreshed
* bookmark, branchop, tag: work around case-insensitive completion of QComboBox
* qtlib: make sure getCurrentUsername() not fall back to system value
* purge: move completed() handlers to instance to avoid GC issue (fixes #2386)
* bisect: ask cmdui.Widget() to create a status bar (fixes #2390)
* guess: keep similarity as raw value for sorting (fixes #1332)

== Improvements ==

* change selection in the commit tool
* startup performance improvements (closes #940)
* cleanup menu and title strings

* blockmatcher: make BlockList clickable
* commit, revdetails: change splitter style to make it easier to see on Windows
* cmdui: prettify command-line string for display (closes #1529)
* fileview, shelve: add 'Display the file anyway' link when files or patches are not shown
* infobar: convert revision id hashes into links
* infobar: convert subrepo references and subrepo revision id hashes into links
  (needs Mercurial 2.5)
* mergetools: add a kdiff3-noauto merge tool disabling automated merge
* mergetools: add Windows support for "meld"
* serve: show balloon when minimizing running server to tray (refs #1845)
* settings: synchronize and remember the active page of all settings forms

== Installer ==

* Upgraded PyQt to 2.9.6 (from 2.9.1), which includes QScintilla 2.7 (fixes #2340)
* Upgraded python-keyring to 1.2

----

= TortoiseHg 2.6.2 =

This is a bug fix release with minor improvements

== Bug Fixes ==

* chunks: use regexp to capture .rej filename from non-English message
* clone: handle location of source patch repository as full path
* cmdui: always set percentage to QProgressBar (fixes #2261)
* rejects: handle non-ascii path correctly
* rename: remove workaround for case-changing rename on Windows

----

= TortoiseHg 2.6.1 =

This is a bug fix release with minor improvements

== Bug Fixes ==

* commit: hide the 'autoinc' option when merging
* copypatch: have dummy Writable object acts like a string (fixes #2280)
* copypatch: support internal lossless export/import via clipboard (fixes #841)
* hgignore: use util.expandpath() to expand env vars of ui.ignore (fixes #2306)
* manifestdialog: fix possible unicode error at cset link handler (fixes #2289)
* merge: refresh csinfo of commit page so that it can show two parents
* rejects: earlybytes fix (fixes #2295)
* rename: actually overwrite existing file if requested
* repofilter: use case-sensitive completion for revsets (fixes #2276)
* reporegistory: restore original behavior of setActiveTabRepo('') (fixes #2279)
* resolve: normalize paths before calling resolve
* update: correct default behavior of updating to bookmark to 'prompt'
* workbench: pushes new branch without failing if --pushafter set (fixes #1986)

== Improvements ==

* merge: improve Commit/Cancel buttons and merge "cancel" message (refs #1727)
* merge: let the user change the commit options on the merge wizard commit page (fixes #1727)
* resolve: add "diff to common ancestor" cmenu actions in resolve window (fixes #2201)
* resolve: add doubleclick actions in resolve window (fixes #2236)
* settings: completed helptext for 'Diff and Annotate' -> 'MQ Git Format'
* wctxactions: use RenameDialog for copy action

== Installer ==

* onsub extension now bundled
* dulwich upgraded to 0.8.7

----

= TortoiseHg 2.6 =

This is a major feature release

== Packaged Versions ==

* Mercurial 2.4+6-35ba170c0f82

== Bug Fixes ==

* cmdui, qscilib: avoid CTRL+L key binding collision (fixes #2205)
* commit: ignore IOError when saving state (fixes #2202)
* filectxactions: fix parent of vdiff warning dialog (fixes #2252)
* filectxactions: set up initial state of actions correctly (fixes #2255)
* fileview: fix possible TypeError on AnnotateThread.abort (fixes #2188)
* qtlib: check if user input can be converted to local encoding (fixes #2196)
* repomodel: avoid filled.emit() of destroyed HgRepoListModel (fixes #1267)
* repofilter: restore index of revset combobox to avoid extra activated signal
* repotreeitem: cast possible QString to unicode at setShortName (fixes #2227)
* revdetails: have message widget honor user-specified font
* reporegistry: activate the current repository entry after a model reload
* rollback: remove unwanted restriction of undo desc
* thg: make sure to load threading module by main thread (fixes #1894)
* workbench: use windows-safe getuser() to build IPC socket name (fixes #2238)
* grep: fix unicode handling of several context menu actions (fixes #2274)

== Improvements ==

* commit: prompt the user to set a default username on commit if necessary
* filedialogs: add multi-selection menu (fixes #1871)
* menu: add shelve to menuthg so it shows up in shellconf (fixes #2209)
* repomodel: add Latest tags column
* repowidget, status, manifest: change background color when a filter is applied
* resolve: add context-menu in resolve window (fixes #2200)
* settings: add 'phases.publish' support
* RTF file support in docdiff

[[OlderReleaseNotes]]
