Feel free to add new categories as necessary.

This is where you register features that are unimplemented or badly implemented in the new Qt dialogs

== installer ==

* SVGs are not still displayed unless PyQt is installed.  We're missing some files, need to figure out which ones.
* python-svn bindings missing
* unstable packages are not signed

== guess ==

* rename guessing is not finding any obvious matches, arguments to hg look correct

== thgrepo work ==

* nuke csinfo caches, keep that kind of data in thgrepo, or don't cache at all (remove self.ctx?)

== Workbench ==

* need an svg for grep and manifest task tabs, load all, show output log, and show repo registry toolbar toggles
* need a way to just refresh the commit tool (How about making shift-F5 refresh only the active task-tab ? - sjb good idea!) (in progress - Johan)
* commit message history is not being refreshed properly after commits inside the workbench
* Multi-selection and intelligent changeset context menu:
** 1 sel : base menu
** 2 sel : merge, range menu, compress history
** >2 sel: patch/email menu
* Changeset file list menu, just like repository explorer
* Drag file names from changeset file list to editor
* Underlines of revision and node for parent/child in changeset does not follow the same baseline
* Inline searching searches only for matches from the beginning of the line, not for whether a commit contains said text
* Hitting ctrl+g after having done an inline search one is presented with a new control to enter search criteria - at the very least this should be filled out with what you actually searched for - better, it should jump to the next match
* Filter csets
** per cset type (all, tagged, ancestry, parents, heads, merge, non-merge).
** per filename.
** per username.
* Bisect view (idea) ... it shows good/bad icon alongside each changeset; tested changesets are grayed-out.
* Authorcoloring: is it intentionally that not the whole line is colored (as in the gtk version), or is this a todo ?  (debatable, bring it up on the list).
* History compression feature (I'll tackle this, Johan)
** Select rev A and descendant rev B.  cmenu should offer 'Compress history'.
** It will update to the parent of A (if necessary), hg revert --all --rev B, then open the commit tool with the concatenated commit messages of revisions between A and B (both inclusive).  User can then edit the message and make the commit.  There should be an option to then strip the changesets
that were compressed.
** Could be done as a single dialog.
* Extensions that are only enabled in a particularly repo don't work correctly at the moment. If I have two repos, one with and one without MQ, then the repo I start in seems to control whether I get MQ facilities across all repos displayed in the workbench, regardless of an individual repo's MQ status.
* MQ patches remaining work - see [[http://groups.google.com/group/thg-dev/browse_thread/thread/3c9dd639c1c54b58|discussion]]
** view in revision details tab - George is looking at this
** rename - should be easy
** fold - should be easy to implement. Could benefit from a dialog confirming what will be folded and a --keep option checkbox.
** delete - needs multi-select in the log.
** reorder - up/top/down/bottom. Needs thgmq code migrating (perhaps to
thgrepo? certainly to util.something). Steve suggest making a special dialog for this one.
** push/pop - all or individual. Push individual is useful when you don't think a series is going to apply and want to try each patch at a time. Push/pop all is useful when "rebasing" applied patches on a new downloaded tip. These don't really belong on a context menu (push/pop on an individual patch is just goto). On the main workbench toolbar is most obvious place.
** Unnaplied patches should use italic font

== Manifest Viewer ==

Has a lot of potential:

* draggable filenames
* context menu for: open in editor, file history, annotate, etc
* interface to grep at revision
* Complete the annotate view with the hovering info as in the separate annotate dialog ?
* filter files by name, status, etc.
* search file content.
* Indication of what was changed in the revision shown :
** Show a separate column, left of the names, and for affected folders show indicators like the 'Changes' column in the Gtk version. (Or if that is too much, show folders in bold because they could contain a mixture of add/mod/del.)
** Show affected filenames in the appropriate color (see the status view).
** Right-clicking on files should allow a diff-to-parent for affected files only.
** Maybe even a toolbar toggle to collapse the tree to only affected folders/files ?

== Commit ==

* qrefresh support, checkbox for -D option
* threaded / wrapped commit (need a CmdRunner equivalent)
* +1 / -1 head indication (not as important with workbench integration)
* pushafterci (not necessary if we fully support hooks)
* qnew/shelve-patch creation dialog (in another file)
* spell check / tab completion
* in-memory patching / committing chunk selected files
* reflow seems to be locked behind unreachable key sequences

Safe chunk select / "move to patch" implementation:
# Teach hgshelve to parse non-git diffs, drop git diffs everywhere, detect binary/perm/copies ourselves
# When chunk select dialog is opened, record hash of raw contents
# When revert or "move to patch" is selected, re-read file and compare hash
# To revert chunks, backup file to "trashcan" with timestamp in name, revert contents then apply remaining chunks
# To "move to patch", revert then apply remaining, then do diff against original raw file > patch file

== Update ==

* "smart update" feature (incomplete)

== Quickop ==

* "No appropriate files" warning, when launched deep in a repo from shell extension

== Merge ==

* detect unresolved conflicts in WD
* shelve feature
* temporary patch name

== Settings ==

* path validation for ui.editor and similar fields
* port extensions page from hgtk
* new generic extension registration
* more font settings
* new [color] page

== Email ==

* bundle support
* threaded preview
* rename module 'hgemail' to 'email' ?
* replace to/from/cc combo boxes with entry and [...] that opens address book style dialog
* perhaps changeset list could be in a second tab, before preview

== Sync ==

* drop URLs into top or not-yet-added "related repos" list
* Problem adding new keys to keyring on Mac, worked on command line
* bundle preview when in workbench
* incoming / outgoing marks
* show related local repositories, and their configured paths

== Patches ==

* Add support for multiple mq patch queues (hg qqueue).

== Grep ==

* add history for include and exclude names (also possible for regexp itself) as done for the latest 10 messages in the commit widget
* grep task tab should be notified of currently selected revision, auto-select that rev
* problems with include path filters on Mac

== Annotate ==

* In the gtk version there's a possibility to assign colors to the usernames in the changelog. Maybe those same colors could be used per user in the annotate window too ? And the colors in the annotate dialog for not configured users perhaps could be assigned with the same 'logic' as in the changelog ? That would be another bit of consistency in the product. I could also add an extra page to the setting dialog, for assigning colors to usernames ? I also see the hgqt changelog does not yet use those username color settings. I could look into that too ? (If you agree with the idea(s) Steve, I (Johan) am willing to give this a stab.) -- sjb sounds like a solid idea

== qtlib ==

* replace 'yellow' with some reasonable default, like 'lightbrown'
* pre-defined colors (like gtklib) (most colors will be user-configurable - steve)
* more general means for showing or previewing the generated hg command (see archive dialog) (log widget)
* appropriate use of QApplication.setOverrideCursor(QtCore.Qt.WaitCursor)
* utilize QIcon.fromTheme() ?

== i18n ==

* Need an encode fail dialog that prompts for an encoding, sets HGENCODING, then retries
* Need functions to convert between unicode<->UTF-8

== run ==

* slower startup than hgtk (demandimport is never enabled, it breaks pixmap loading)
** now as fast as hgtk thanks to <<changeset decb52eebbb3>>
** Idea: do portable_fork() on early stage (before loading Qt and mercurial things.) It tooks 0.5 sec before spawning new process on my env.

* Catch certain Mercurial errors (RepoLookupError, etc) and provide a non-bug-report fallback for them.

== usability ==

* Fonts
** I would like to have a really good way to change fonts in the TortoiseHg qt dialogs. Mostly for enlarging fonts, but in small steps, so each can find their own "best setting". All fonts means both for dialog fonts and for content widgets. This is necessary f.i. for people not having the good sight of a youngster anymore (like me). (Also because changing screen resolution and/or OS settings cannot solve everything.) I'm willing to help with this, of course. My reference for this is the NoSquint Firefox add-on ;-).
** SJB - I've started work on this.  Apps can get the user's configured font from qtlib and connect to a signal emitted when the font is changed.  The settings tool in turn will emit the signal when the user picks a new font and selects 'ok' in the font editor.  Two things need to happen:
## We must use this font interface consistently in all our tools
## Someone should look into connecting to the live updates that come out of the selection dialog

* Qt Settings: save column widths along with geometry/splitter settings (changelog, status, email, etc).
