<<toc 1>>

= Matching Versions =

If you are using TortoiseHG from source, we recommend you use the most
recent stable releases of TortoiseHG and Mercurial together.  If you must use
an older version of Mercurial, please consult the following chart:

|= Mercurial Release |= TortoiseHg Release |
| <= 1.0 | 0.5 |
| 1.1.X | 0.6 |
| 1.2.X | 0.7.6 |
| 1.3.X | 0.8.n |
| 1.4.x | 0.9.n |
| 1.5.x | 1.0.n |
| 1.6.x | 1.1.n |
| 1.7.x | 1.1.9.1 |
| 1.8.x | 2.0.n |
| 1.9.x | 2.1.n |
| 2.0.x | 2.2.n |
| 2.1.x | 2.3.n |
| 2.2.x | 2.4.n |
| 2.3.x | 2.5.n |
| 2.4.x | 2.6.n |
| 2.5.x | 2.7.n |
| 2.6.x | 2.8.n |
| 2.7.x | 2.9.n |
| 2.8.x | 2.10.n |
| 2.9.x | 2.11.n |
| 3.x.y | 3.x.y |

----

= TortoiseHg 3.2.4 =

TortoiseHg 3.2.4 is a regularly scheduled bug fix release

== Bug Fixes ==

* commit: reload patch description if hash changes (fixes #3983)
* filedialogs: forcibly add --hidden because hidden rev can appear in filelog
* repofilter: another workaround to run selected query on Mac OS X
* repowidget: fix indexes of unapplied patch actions to be enabled

== Installer ==

* Dulwich 0.9.8
* mercurial_keyring 0.6.4

----

= TortoiseHg 3.2.3 =

TortoiseHg 3.2.3 is an unscheduled bug fix release, intended to pick up
[[http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_3.2.3_.282014-12-18.29|
two security fixes in Mercurial 3.2.3]]. Users on Mac and Windows are encouraged
to upgrade.

TortoiseHg is itself unchanged in this release, the 3.2.2 tagged revision was re-tagged
as 3.2.3, so the release only affects installer packages which bundle TortoiseHg and
Mercurial together (Mac and Windows).

----

= TortoiseHg 3.2.2 =

TortoiseHg 3.2.2 is a regularly scheduled bug fix release

== Bug Fixes ==

* chunks: preserve line ending of source file in diff view (fixes #3975)
* console: do not confuse output with prompt input while idle (fixes #3982)
* filectxactions: directly use boolean evaluation to check for empty
  (fixes #3967)
* init: getExistingDirectory without keyword argument (CentOs 6.3)
* rejects: decode chunk lines as selected content encoding (fixes #3974)
* rename, settings: work around memory corruption by QCompleter(parent)
* repomodel: actually clear revset when repository is stripped
* repomodel: update row count even if failed to reload graph (fixes #3971)
* repowidget: evaluate dagrange set eagerly to fix crash on "Bundle DAG Range"

== Improvements ==

* mergetools: add 3-way dir diff to BeyondCompare 4 (closes #3976)

----

= TortoiseHg 3.2.1 =

TortoiseHg 3.2.1 is a bug fix release, mostly intended to pick up hot-fixes in Mercurial 3.2.1

== Bug Fixes ==

* Avoid confusion with explorer extension dialog (#3968, #2339)
* Improve documentation for terminal shell configuration (#3957)

----

= TortoiseHg 3.2 =

TortoiseHg 3.2 is a regularly scheduled feature release

Since 3.1, Mercurial commands are run in separate
[[http://mercurial.selenic.com/wiki/CommandServer|command server]] process.
It generally contributes to reliability, but if you have a faulty extension
or an in-process Python hook, it can corrupt the communication channel between
TortoiseHg and the command server.

If you see an error message like "cmdserver: timeout while reading...",
[[BugReport|please report it]] with the list of enabled third-party extensions
and their versions.  Currently, reviewboard (#3841) and onsub (#3924) extensions
are known to have this issue.

== Bug Fixes ==

* commit: do not reload patch description if parent is unchanged (fixes #3304)
* qreorder: have drag-and-drop patches run extension command in worker process
* paths: resolve root directory from frozen executable path
* repowatcher: detect removal of repository files (fixes #3697)
* repoagent: unify workingBranchChanged with repositoryChanged \\
  (fixes #2572 - doesn't auto refresh when update and discard new branch)
* repofilter: grab focus only if shown by user action (refs #3917)
* repomodel: do not clear status message on filter option change (fixes #3887)
* repomodel: restore current/selected indexes by model on reload
  (refs #1913, fixes #3897)
* repowatcher: check mtime of obsolescence markers (fixes #3913)
* repowidget: do not overwrite browse history by revset result (refs #3832)
* repowidget: do not re-create model on repository or revset changed
* repowidget: move focus to history view when window gets visible (fixes #3917)
* repowidget: remove unused _reload_rev and _last_series (fixes #3923)
* repowidget: switch to commit tab if working-dir row is selected (fixes #1913)
* sync: bypass bundle overlay on fetch just like pull \\
  (fixes #3946 - fetch after check incoming fails)
* sync: rebuild target bookmarks/branches only when changelog updated
  (refs #3912)

== Improvements ==

* make output log a task tab, remove class LogDockWidget
* cmdcore: propagate --config options to command process
* debugruncommand: add command that runs hg command in dialog (closes #3934)
* infobar: clear status message with slight delay if command finished
  (refs #3308)
* prune: add dialog that prunes the specified revs
* qtapp: use wake-up fd to notice SIGINT on Unix
* strip: add --keep checkbox (closes #1865)
* workbench: add toolbar button that aborts any running commands

graph style:

* evolution: also fadeout obsolete changeset
* repomodel: use lighter version of the usual color when a revision is hidden
* repomodel: use red as the default text color for troubled changeset

----

= TortoiseHg 3.1.2 =

TortoiseHg 3.1.2 is a regularly scheduled bug-fix release.

Since 3.1, Mercurial commands are run in separate
[[http://mercurial.selenic.com/wiki/CommandServer|command server]] process.
It generally contributes to reliability, but if you have a faulty extension
or an in-process Python hook, it can corrupt the communication channel between
TortoiseHg and the command server.

If you see an error message like "cmdserver: timeout while reading...",
[[BugReport|please report it]] with the list of enabled third-party extensions
and their versions.  Currently, reviewboard (#3841) and onsub (#3924) extensions
are known to have this issue.

== Bug Fixes ==

* commit: correct boundary value to disable pygments parsing (refs #3910)
* commit: do not show username prompt if ui.user is set (fixes #3901)
* obsolete: look for markers even if intermediate revisions are hidden
* repomodel, sync: fix performance regression on repo having many named
  branches (fixes #3912)
* tag: propagate --force option properly on remove

----

= TortoiseHg 3.1.1 =

TortoiseHg 3.1.1 is a regularly scheduled bug-fix release.

Since 3.1, Mercurial commands are run in separate
[[http://mercurial.selenic.com/wiki/CommandServer|command server]] process.
It generally contributes to reliability, but if you have a faulty extension
or an in-process Python hook, it can corrupt the communication channel between
TortoiseHg and the command server.

If you see an error message like "cmdserver: timeout while reading...",
[[BugReport|please report it]] with the list of enabled third-party extensions
and their versions.  Currently, reviewboard extension is known to have this
issue. #3841

== Bug Fixes ==

* annotate: ignore double-click of margin next to the last line (fixes #3877)
* cmdcore: allow to change output device of null command session \\
  (fixes #3864 - RuntimeError on detect outgoing changes to empty path)
* filectxactions: do not try 3-way diff if p2 is explicitly selected \\
  (fixes #3854 - "Diff to parent" options only diff to the left parent)
* graph: fix AssertionError when generating family lined graph (fixes #3892)
* hgignore: disable auto-default of all buttons (fixes #3889)
* repomodel: make sure to render labels by using the same font as view
* status: do not set "remove filter" button as auto-default (fixes #3876)
* sync: outgoing {node} might be prefixed with white space \\
  (fixes #3872 - missing first outgoing node if authentication required)
* wctxcleaner: do not report branch change as dirty working directory \\
  (refs #3822 - allow backout, graft, merge and rebase onto new branch)
* win32ill: suppress KeyboardInterrupt while shutting down message-loop thread

== Improvements ==

* merge: add link to review a merge
* wctxactions: add "Edit Rejects" action that opens RejectsDialog (closes #3838)

== Installer ==

* update hg-git to current tip (c68edf83bfbc), fixes SSH issue (#3862)
* pyre2 is now bundled, for much improved regexp performance

----

= TortoiseHg 3.1 =

TortoiseHg 3.1 is a major feature release.

Since 3.1, Mercurial commands are run in separate
[[http://mercurial.selenic.com/wiki/CommandServer|command server]] process.
It generally contributes to reliability, but if you have a faulty extension
or an in-process Python hook, it can corrupt the communication channel between
TortoiseHg and the command server.

If you see an error message like "cmdserver: timeout while reading...",
[[BugReport|please report it]] with the list of enabled third-party extensions
and their versions.  Currently, reviewboard (#3841) and hg-git (#3862) are
known to have this issue.

Note the Windows installers include Mercurial version 3.1 plus two stable commits
which addressed Windows platform-specific bugs.

== Bug Fixes ==

* cmdui: add hidden button to close prompt dialog with no response \\
  (fixes #1317 - merge has no cancel option)
* filectxactions: redesign to show diff between baseRev and rev \\
  (fixes #2313 - diff selected file revisions not working after move/rename)
* grep, status: use built-in drag-and-drop infrastructure
* patchctx: use patch name give by repo if it is an MQ patch \\
  (fixes #3831 - patch name is ambiguous when using directories)
* postreview: correctly set parent of first selected revision (fixes #3538)
* repofilter: do no run revset query by focus out during history completion
* repofilter: do not steal focus when window is restored from minimized state
* repomodel: render description column without using HTMLDelegate \\
  (fixes #1590 - description column contents aligned 1px upper)
* repotreemodel: work around unicode error on XML parse failure (fixes #3820)
* run: continue without fork if new process can't be spawned
  (fixes #1949, #3800)
* run: promote rev to common annotate/log option (fixes #3799)
* workbench: do not change window icon (closes #3737)

command runner:

* cmdcore: enable command-server client by default in 3.1, fixes:
** #3343 - blackbox extension not working
** #1661 - "abort: Interrupted system" call during push with subrepos
** #2071 - crash when pushing with mercurial_keyring
** #2614 - {{{util.hgexecutable()}}} returns wrong path
** 074fd0fde0b6 - worker.py of Mercurial 2.6 only works in main thread
** #3370 - Workbench UI getting dispresponsive on certain operations
** #484, #788 - can't use git/subversion subrepo
** #3637 - redirect hook stdout, stderr to Output log
** #3670 - WindowsError 6 in pipe decode/encode filter
* repowidget: run "Export Diff" and "Copy Patch" in command process for
  stability
* revset: run query in command process for stability

commit/status widget:

* commit: do not bulk-add unknown files when all selected files are largefiles
* commit, filectxactions: escape paths prior to command execution \\
  (fixes #2108 - files with some special names can't be added or commited)
* commit: take "autoinc" list as glob pattern again
* filectxactions: make "copy patch" generate diff between base and target revs
* repowatcher: invalidate cache if dirstate file is modified \\
  (fixes #3647 - file renaming inconsistencies)
* wctxactions: delegate "file history" action to filectxactions \\
  (fixes #2591 - No shortcut for "File history" command on files in Working
  Directory)
* wctxcleaner: invalidate changelog on each check of dirstate \\
  (fixes #3826 - commit do not work properly in the merge dialog)
* wctxactions: make visual diff compare to base revision, add "diff local" in
  place \\
  (fixes #2001 - diff does not work on MQ patches)
* wctxactions: reimplement by using command APIs, fixes:
** #1347 - add support for {{{pre-<command>}}} and {{{post-<command>}}} hooks
** #2217 - adding files to source control in the separate thread
** #1953 - largefiles treated wrong when added by "add large..." menu

high dpi issues:

* graphdelegate: update row height to actual value prior to painting \\
  (refs #3690)
* widgets: use small icon size defined by platform style (fixes #3690)

obsolete changeset:

* repoagent: append --hidden option while hidden changesets are visible
* repowidget: replace pseudo "incoming()" filter by "bundle()" (refs #3535)
* repowidget: switch visibility of hidden changesets globally \\
  (fixes #3735 - obosoleted changeset appears as "Child:" field unexpectedly)
* thgrepo: start with filtered repo because it is the default of Mercurial

== Improvements ==

* blockmatcher: improve visibility of narrow markers
* filelog: export {{{thg filelog [-r REV] [--compare] FILE}}} command
* fileview: remember chunk selection on view mode switch
* mergetools: port gvimdiff from Mercurial's mergetools.hgrc
* searchtoolbar: make next/prev shortcuts available in owner widget (fixes #3819)
* status: open merge tool on double-click for unresolved file (closes #1230)
* toolbars: use toolbar icon size defined by QApplication.style() except on Mac
  (see 8d6212194e21 for details)

graph:

* graph: draw ancestor-descendant relations in filtered graph
  (see 891146f5a9bb for details)

== Installer ==

* wix: remove i18n source files (.po) from installer package (closes #2566)
* keyring 4.0
* hgsubversion 1.6.2

----

= TortoiseHg 3.0.2 =

TortoiseHg 3.0.2 is a regularly scheduled bug-fix release.

If you had installed 3.0 and were using the newly bundled hg-svn or hg-git, you must change the name of those extensions to hgsubversion and hggit respectively.  The method of their bundling has been changed because of issue #3768.  Post-upgrade, you should be able to de-select "hg-git" and/or "hg-svn" from the settings dialog and select the new "hggit" and/or "hgsubversion" respectively.

Also note that now that TortoiseHg and Mercurial have synchronized revision numbers, the names of the TortoiseHg installers for Windows have been simplified to include just a single version number.  These installer packages still include TortoiseHg and Mercurial (it would be quite impossible to package one without the other).

== Bug Fixes ==

* cmdthread: map empty promptchoice response to default value \\
  (fixes #3785 - crash on email preview with diffstat)
* grep: fix list of urls to include all dragged files
* grep, status: fix several unicode errors in drag-and-drop handler
* status: fix handling of non-ascii file name in drag-and-drop handler
* purge: make sure to not include deselected statuses \\
  (fixes #3786 - ignored files can be deleted even if checkbox is off)
* settings: remove outdated details of default authorcolor behavior
  (fixes #3789)
* thgrepo: preserve config values that are internally set \\
  (fixes #588 - random failure of unified diff with eol extension)

== Improvements ==

* commit: allow amending non-head if obsolete is enabled
* repomodel: do not truncate description if longsummary is enabled (fixes #3776)
* reduce workbench toolbar icon size on Mac to match size on Windows

== Installer ==

* update python keyring library to 3.8
* update dulwich to 0.9.7
* update hg-git to current tip (ab8562b11c4f)

----

= TortoiseHg 3.0.1 =

TortoiseHg 3.0.1 is a regularly scheduled bug-fix release.

If you had installed 3.0 and were using the newly bundled hg-svn or hg-git, you must change the name of those extensions to hgsubversion and hggit respectively.  The method of their bundling has been changed because of issue #3768.  Post-upgrade, you should be able to de-select "hg-git" and/or "hg-svn" from the settings dialog and select the new "hggit" and/or "hgsubversion" respectively.

Also note that now that TortoiseHg and Mercurial have synchronized revision numbers, the names of the TortoiseHg installers for Windows have been simplified to include just a single version number.  These installer packages still include TortoiseHg and Mercurial (it would be quite impossible to package one without the other).

== Bug Fixes ==

* commit: do not crash by invalid issue.regex expression (fixes #3732)
* customtools: separate arguments before running external commands (fixes #3752) \\
  the specified command will be executed through the system shell, so
  use {{{start}}} to open new command window (see #3783 for details.)
* graph: fix problem about `showgraftsource` and `branch`
* repowidget: resize columns only when model is initially loaded (fixes #3742)
* wctxactions: resurrect 'forget' action for added files (closes #3748)
* commit: clear unmodified message, including the default merge message,
  when repository changed (fixes #3755)

== Installer ==

* bundled hgsubversion moved from hg-svn to hgsubversion
* bundled hg-git moved from hg-git to hggit
* package naming simplified, now that thg and hg version numbers are synchronized

----

= TortoiseHg 3.0 =

TortoiseHg 3.0 is a timed feature release.  With 3.0, TortoiseHg is synchronizing its release numbers with Mercurial.  The Windows installers for 3.0 come with a patched version of Mercurial 3.0; we've taken the first three stable commits following the 3.0 tag in order to fix a file permission regression.

== Bug Fixes ==

* backout: remove support for merges deprecated since Mercurial 2.0 (refs #3416)
* commit: do not create recent message menu more than once (fixes memleak)
* email: preview is empty if patchbomb extension is not loaded
* filectxactions: save files in working-copy line endings (fixes #3696)
* graft: merge source csinfo and cslist to save vertical space (closes #3655)
* qtapp: font placement is wrong with OSX 10.9
* shellext: context menus icons NOT properly displayed on Windows XP (fixes #1364)

== Improvements ==

* bisect: open as modeless dialog in workbench
* bisect: follow candidate changeset in workbench
* clone: suggest new destination on source changed or existing dest selected
* cmdui: switch detail button text to show what will happen (closes #3666)
* commit: automatically set merge commit message
* email: allow to omit introduction email even if more than one patches
  available
* filectxactions: add filter action to file context menu
* filectxactions: run "hg cat" by asynchronous command runner
* fileview: add option to guess encoding from its content on load (closes #3620)
* fileview: add shift-clicking feature on chunk selection (ref #3672)
* graft: save/restore boolean command options
* merge: remember autoresolve check, run internal:merge (autoresolve) by default
* qdelete: remember last state of --keep option
* reporegistry: save expanded state in settings (closes #2132)
* repoview: allow drag-and-drop of column headers (closes #2544)
* shelve: confirm to delete selected chunks (closes #2493)
* update: add 'Pull subrepos from:' combobox
* workbench, filelog: give standard shortcuts to go-back/forward actions

core:

* cmdcore: add experimental command-server client enabled by
  {{{--config tortoisehg.cmdworker=server}}}\\
  (refs #1507, #1661, #2071, #2614, #3343, #3370, #3637)
* graph: assign same color to edges in first ancestors line
* graph: do not assign gray to normal line because gray means `inactive`
* graph: draw starting edge of topo branch in same color as its descendants
* graph: narrow margin around graph edges to save horizontal space

== Installer ==

* bundle hg-git and hgsubversion extensions
* dulwich 0.9.6 (inclues [[https://groups.google.com/d/msg/thg-dev/lq3xlrOh19Y/Ni3y9v1gafwJ|fixes for GitHub]], #3653)
* keyring 3.7 and hgkeyring 0.6.2

----

= TortoiseHg 2.11.2 =

TortoiseHg 2.11.2 is a regularly scheduled bug-fix release

== Bug Fixes ==

* chunks: honor file encoding when displaying diffs (fixes #3660)
* copypatch: make revision 0 exportable to clipboard (fixes #3652)
* repoagent: fix comparison of subrepo path starting from root path (fixes #3688)
* shellconf: the label is utf8 encoding. Convert to unicode by decode()
* sync: open email dialog with numeric revs so that they can be sorted correctly
* thg: remove the -psn argument supplied by launchd only if present (refs #3437)
* wctxactions: refresh status after "renamed from" action (fixes #3671)
* wctxactions: refresh status when ignore dialog closed (fixes #3657)

== Improvements ==

* fileview: save last selected encoding as widget's default (refs #3620)
* mergetools: add BeyondCompare 4 support (closes #3679)
* qfold: accept command by Ctrl+Return like commit or email dialog (closes #3650)

----

= TortoiseHg 2.11.1 =

TortoiseHg 2.11.1 is a regularly scheduled bug-fix release

== Bug Fixes ==

* chunks: bypass copy protection of repo.ui that drops eol settings (fixes #3600)
* cmdui: disown temporary progress widgets so that they can be deleted (fixes memleak)
* commit: do not restore last amend message on repository change (fixes #3605)
* commit: say "nothing changed" instead of "code: 1" on empty amend (refs #3599)
* filectxactions: reenable file log actions for working directory (closes #3613)
* init: catch filesystem error while creating repository (fixes #3630)
* manifestmodel: disable lookup of file-type icons from system
  (fixes #3594 - double overlay icons)
* manifestmodel: do not ignore reload request of uncommitted changes
  (fixes #3595 - shelve not refresh)
* manifestmodel: instantiate subrepo only when necessary (fixes #3638)
* quickop: chdir to repo root so that status widget can filter file (fixes #3634)
* repowidget: refresh active commit tab when purge dialog closed (closes #3643)
* sync: fix list index to override pull command by fetch (fixes #3612)
* update: do not eat up enter key to complete wrong revision from history
* wctxactions: clear propertycache of cwd for each command execution (fixes #3603)

== Improvements ==

* archive, clone, rename: allow to resize horizontally while having fixed height
* mergetools: copy TortoiseMerge entry for the one of TortoiseGit (refs #1952)
* settings: list well-known smtp ports in combobox

----

= TortoiseHg 2.11 =

TortoiseHg 2.11 is a major feature release with many visible and internal changes to improve future stability and usability.

== Bug Fixes ==

* archive: use fileset to filter modified/created files (closes #2595)
* clone: do not select first history item of src/dest combo on enter key
* customtools: work around erratic type of value in settings dialog (fixes #3548)
* dialogs: fix several GC issues
* filectxactions: disable several invalid actions according to the context
* filedata: check renamed state even if larger than maxdiff (fixes #3531)
* fileview: disable annotation of removed files
* fileview: do not override chunk markers by annotation colors
* fileview: fix deletion of translated "excluded" chunk message
* fileview: restore lost mode even if all modes are not enabled
* fileview: update availability of next/prev diffs according to cursor position
* grep, init, rename: do not bury unknown exception
* init: lay out dialog buttons according to the widget style (fixes #3555)
* manifest/revdetails: fix subrepo status to compare to parent revision of main repo
* merge: do not skip merge result if there was a warning
* mq: check rejects according to exit code of qpush/qgoto command (fixes #1310)
* rejects: add menu to specify encoding of file content (closes #3314)
* rupdate: remove unused check boxes and dangling widgets
* settings, ignore: convert to local encoding on reading/writing file (fixes #1719)
* settings: disable web.name in global tab (refs #1113)
* settings: update smtp.tls options for current Mercurial version
* strip: keep local changes unless the current revision will be stripped
* sync: ignore defaultpush if branch is specified by OptionsDialog (fixes #3547)
* update: allow to resize horizontally while having fixed height (fixes #3575)
* visdiff: make invalid merge-tools priority fall back to default (fixes #3585)
* wctxactions: request to refresh only if copy/rename finished successfully
* workbench: do not assign Alt+n shortcut to separator or hidden task view action

core:

* cmdui: fix several bugs in error/status handling
* docklog: show command output of all dialogs
* hglib: do not try utf-8 when converting localstr to unicode (fixes #3299)
* hglib: ignore global web.name which was probably set by accident (fixes #1113)
* paths: import config in full spelling for demandimport.ignore (fixes #3542)
* repowatcher: do not monitor network/removable drives by default (closes #889)
* thgrepo: remove manual busy count handling (closes #3376)
* windows: use GetDriveType to check if repo is on local drive (closes #2521)

== Improvements ==

* annotate: use cached data when annotating the same content
* bisect: add option to discard local changes
* filedata: show unified diff of directory in tree view
* fileview: add `Go to line` action
* fileview: show parent revision information on first and second parent buttons
* fileview: specify encoding of file content by menu or {{{web.encoding}}}
* fileview: use the same color as block list to colorize replaced lines
* graph: show a line to obsolescence parents
* manifest/revdetails: add support for fileset query
* repomodel: allow tags other than 'global'
* revdetails: remove Shift+cursor shortcuts because they conflict with selection
* run: parse {{{--config}}} option like Mercurial (closes #2208)
* strip: make it possible to keep the local changes during strip
* workbench: reorder repository menu and add update action

unified revdetails/manifest view:

//Manifest task tab was merged to revision details.//
//Click "Manifest Mode" button to switch to the so-called manifest view.//

* manifest: replace stand-alone ManifestDialog by RevDetailsDialog
* repowidget: delete manifest task tab
* revdetails: add button to enable so-called manifest file list by one tap
* revdetails: add menu to switch tree/flat view
* revdetails: add menu to switch status filters

== Installer ==

* hgcr-gui 30ef0802e8ba (closes #3562)

----

= TortoiseHg 2.10.2 =

TortoiseHg 2.10.2 is a regularly scheduled bug fix release

== Bug Fixes ==

* commit: disable chunk selection by space key if nothing available (fixes #3532)
* grep: bring back window attributes and missing status bar in stand-alone dialog
* grep: make repo accessible before updateRecurse (fixes #3522)
* manifest: fix drag of non-ascii file names
* rebase: hide "swap link" during rebase
* reporegistry, workbench: fix handling of non-ascii name and path on openshell

== Improvements ==

N/A

== Installer ==

* Python 2.7.6 (includes fix for #3309, #3546)
* PyQt 4.10.3
* pygments 1.6 (includes fix for #2026, #2176)

----

= TortoiseHg 2.10.1 =

TortoiseHg 2.10.1 is a minor scheduled release

== Bug Fixes ==

* commit: make sure to clear last amend message on repository change (fixes #3467)
* commit: preserve user name on amend
* import, rename: several compatibility fixes for CentOs 6.3
* import: fix handling of unicode path in browsefiles/dir
* messageentry: fix "Apply Format" crash when the message contains an empty line
* openshell: show error if configured command contains invalid spec (fixes #3454)
* patchctx: don't fail on reading original parent from missing file (fixes #3462)
* rejects: use monospace (or configured) font even if no lexer found (fixes #3500)
* sync: actually show rebase dialog on conflict during pull --rebase
* update: fix handling of non-ascii bookmark in activate/deactivate confirmation

== Installer ==

* Upgrade dulwich to 0.9.4

----

= TortoiseHg 2.10 =

TortoiseHg 2.10 is a major feature release

== Bug Fixes ==

* clone: connect checkbox and lineedit without using lambda (refs #3397)
* clone: do not touch self after dialog closed (refs #3397)
* filedata: handle clean like modified so that size limit enforced (fixes #3425)
* graph: avoid invalid comparison of unapplied patch revision (fixes #1182)
* mq: fix availability of patch actions after reload
* mq: fix loss of guards and comments on drag-and-drop patches
  (refs #441, fixes #2173)
* mq: show all command outputs in Output Log (fixes #2164, #2165)
* qrename: fix handling of non-ascii patch name in checkPatchname
* qscilib: memleak in context menu handler
* reporegistry: fix detection of existing subrepos on addSubrepo()
* repowatcher: watch patches/status to invalidate stale applied (fixes #1094)
* repowidget: do not reload while phase command is running
* repowidget: remove redundant shortcut Ctrl+P for goto parent action
  (use Ctrl+. instead)
* run: fix exit code handling
* settings: don't listen to events of orphan widgets causing invalid memory access
* settings: failure of unicode to QString comparison
* shelve: disallow to select the same patch/shelve by both sides (fixes #3411)
* status: enable tristate of all/none checkbox only if applicable (fixes #3398)
* status: sync partials table to model on updateModel (fixes #3406)
* sync: fix comparison of unicode and localstr in related paths (fixes #3401)
* workbench: fix non-ascii revset built from command-line filenames
* workbench: send files specified by command-line to open instance (fixes #3402)
* workbench: work around sender bug (fixes #3393, #3440)

== Improvements ==

* annotate: add diff menus to annotate view
* cmdcore: postpone queued command requests until current one finishes
* commit: keep cursor position when the current paragraph is reformatted
* commit: make possible to select hunk by space key
* csinfo: show 'Original Parent' field for patches when necessary
* docklog: add "Clear Log" context menu
* filedata: improve subrepo info
* filedialogs: show insertion markers to mark the plus/minus start of lines
* filelist: mark added and removed subrepos with an icon overlay
* rebase: add support for --base modifier (refs #3322)
* rebase: allow swapping source and destination (closes #3322)
* rebase: by selecting both source and destination (refs #3322)
* repofilter: toggle graft relations visibility (closes #2622)
* reporegistry: add 'Remove Subrepository...' command to subrepo context menu
* repoview: set X primary selection to short node ID on revClicked
* repowatcher: reduce number of files to be monitored by OS
* resolve: execute 3 way diff when resolved file is double clicked
* revert: allow reverting files to any of the selected revision parents
  (fixes #2590)
* revpanel: add changeset.link config to customize the target of cset links
  (fixes #3373)
* serve: run hgweb server in separate process
* settings: do not validate extensions for each checkbox on refresh
  (saves ~1sec)
* settings: add SSH command to sync page
* settings: separate push/pull options to new sync page
* settings: show human-readable font description
* thg: do not suppress stderr except for frozen windows exe

=== Improvements in MQ ===

//MQ task widget has been removed.//

* use "Commit" widget to create/refresh patches
* use "Patch Queue" dock to switch/create/delete queues
  -- separate QQueueDialog has been removed
* use "Patch Queue" dock or revision graph to reorder patches
  -- separate QReorderDialog has been removed (closes #441)

other changes:

* mqdock: add icon in front of the patch to highlight the patch
* mqdock: allow to delete and reorder more than one patches
* mqdock: disable inline qrename so that qgoto can be triggered by double click
* mqdock: synchronize the patch selection with revision graph
* repowidget: add 'Apply onto original parent' to the unapplied patch context menu
* repowidget: support for --keep-changes option

== Installer ==

* add sqlite3 to Windows TortoiseHg Python package (closes #2519)
* docdiff scripts updated to latest versions from TortoiseSVN

----

= TortoiseHg 2.9.2 =

TortoiseHg 2.9.2 is a regularly scheduled bug fix release

== Bug Fixes ==

* commit: properly set the file list "defcheck" when amend is selected (fixes #2567)
* filedata: use ctx2 to calculate subrepo's "from" revision
* filedialogs: fix initial page step of diffblock
* lexers: invert lightness of low-contrast colors (refs #810)
* hglib: check name conflicts in getrevisionlabel (fixes #3339)
* qqueue: fix handling of non-ascii name in queue list widget
* qscilib: don't pass negative int as argument 2 of SendScintilla (fixes #3358)
* qtapp: fix KeyboardInterrupt handler not to open exception dialog
* wconfig: fix AttributeError on translation of pure ParsingError (fixes #3353)

== Improvements ==

* commit: remember last amend/qrefresh message until the next commit
* lexers: disable advanced recognition of c++ conditional preprocessor block
* repotreemodel: make XML reader work with PyQt 4.6 (CentOs 6.3)
* revdetails: do not resize the revision description automatically

== Installer ==

* setup: include .desktop file in sdist again (fixes #3357)

----

= TortoiseHg 2.9.1 =

TortoiseHg 2.9.1 is a regularly scheduled bug fix release

== Bug Fixes ==

* contrib: name the .desktop file thg so it matches WM_CLASS
* fontcache, settings: fix handling of non-ascii font name
* graft: disallow to close dialog while CheckThread is running (fixes #3291)
* purge: match API has changed WRT directory traversal
* qscilib: avoid extra encoding conversion in detection of eol (refs #3314)
* qtapp: unlink dead server socket on ECONNREFUSED for recovery (fixes #3290)
* repowidget: "Unapply Patch" should only effect on applied patches (closes #3330)
* settings: catch OSError to show warning dialog (closes #3313)
* settings: performing refresh no matter if the setting file is modified
* thgrepo: check mtime of bookmarks.current to detect update (fixes #3332)
* thgrepo: recreate QFileSystemWatcher to restart monitoring (fixes #3298)
* thread: fix compatibility with ui.promptchoice of hg 2.7 (fixes #3293)
* workbench: reload MQ dock on manual refresh (refs #3274)
* workbench: unmark _runSyncAction as slot to avoid sender bug (fixes #3320)

== Improvements ==

* bookmark: set active text dependent on selected changeset
* messageentry: sort the filenames when using the "Paste Filenames" command
* status: show error dialog on refresh failure (closes #1867)

== Installer ==

* python-keyring 2.1.1

----

= TortoiseHg 2.9 =

TortoiseHg 2.9 is a major feature release

== Bug Fixes ==

* archive/bisect: handle ambiguous/unknown revision gracefully
* archive/sync: getOpen/SaveFileName without keyword argument (CentOs 6.3)
* cmdui: keep running state just before emitting commandFinished (fixes #2611)
* docklog: move focus only when shown by toolbar/keyboard action (fixes #492)
* guess: try to abort RenameSearchThread by exception on cancel (fixes #1990)
* import: disable -p0 checkbox for qimport and shelve (fixes #3267)
* openshell: parse command string by shlex.split()
* overlay: cache icon handle (fixes #3223)
* purge: prevent "local variable 'f' referenced before assignment"
* qtapp: correct exception mapping of revlog decompress error
* quickop: use helper to build cmdline of common operation (fixes #1313)
* rejects: report I/O error on save file (refs #3284)
* repowidget: allow graft or rebase of applied patches
* repowidget: test existence of mqDemand explicitly (fixes #2048)
* thgrepo: disable filesystem monitor while busy (refs #1469)
* thgrepo: start/stop filesystem monitor by open state of repo (fixes #1783)

== Improvements ==

* annotate: use FileLogDialog instead of ManifestDialog
* archive: prefer symbolic label than revision number
* csinfo: add ellipsis to summary field if the rev description spans several lines
* csinfo: add "obsolete" field
* docklog: assign console per repository (closes #120)
* docklog: move title bar to left if console is spanned horizontally
* graph: improve revision graph appearance when revset specified
* graph: build color table incrementally (fixes #2559)
* guess: edit unrevisioned file on double click
* messageentry: make "Paste Filenames" separate filenames with EOL (fixes #3230)
* repowidget: open merge and shelve dialog modelessly
* repowidget: reuse existing ManifestDialog if shift key isn't pressed
* sign: add sign dialog
* sync: add new mode in postpull: update or rebase (closes #2551)
* workbench: assign shortcut keys to incoming/outgoing actions (closes #3243)
* workbench: hide urlCombo if there isn't more than 1 alias (fixes #2600)
* workbench: keep single instance of ServeDialog by DialogKeeper (closes #1845)
* workbench: place the sync task button next to the sync toolbar by default

== Installer ==

* PyQt 4.10.2
  (includes fix for #1999: crash "Assertion failed" in lexlib\CharacterSet.h)

----

= TortoiseHg 2.8.2 =

TortoiseHg 2.8.2 is a minor bugfix release

== Bug Fixes ==

* bookmark: don't sort in reversed order
* chunks: keep permission of working-copy file by atomictemp (fixes #2414)
* commit: avoid double refreshWctx when creating commit widget (refs #3227)
* grep: do not start search in constructor (fixes #2639)
* lexers: use the C++ Lexer for .cc and .hh files (fixes #3240)
* repowidget: unapply all patches through MQWidget (--force option) (fixes #1766)
* settings: add 'never' option to 'Monitor Repo Changes' setting (refs #3227)
* settings: do not clear description text on focus out (fixes #1429)
* shelve: allow to resize name combobox smaller than content length (fixes #2637)
* shelve: double-check platform-specific bad filenames (fixes #2640)
* status: fix Python 2.5 compatibility (fixes #3252)
* status: refresh after menu action only if necessary (fixes #3222)
* sync: use built-in drag-and-drop infrastructure (fixes #744)

== Improvements ==

* customtools: add "Custom Tools" context menu to revdetails and manifest widgets
* graft: add GUI options for --currentuser, --currentdate and --log (refs #2328)
* sync: add 'Update subrepo paths' checkbox to save dialog
* workbench: improved tooltip of sync toolbar

== Installer ==

* mercurial_keyring no longer by default (fixes #2587)

----

= TortoiseHg 2.8.1 =

TortoiseHg 2.8.1 is a minor bugfix release

== Bug Fixes ==

* bookmark: option to activate if adding or moving to current node (fixes #2605)
* branchop: strip leading/trailing spaces from branch name (fixes #2568)
* clone: deselect history before setting src/dest paths (fixes #394)
* commit: exclude removed and missing files by default during amend (fixes #2567)
* filedialogs: do not override goto-ed revision on modelFilled
* filelist: remove invalid setResizeMode() (fixes #2573)
* grep: look up parent revision of subrepo when annotating wctx of subrepo
* manifest, reporegistry: sort paths case-insensitively on Windows
  (fixes #2618, #2180)
* messageentry: fix Apply Format when paragraph has a single line (closes #2597)
* patchctx: implement {{{__iter__()}}} for compatibility (fixes #2602)
* repowidget: refresh active commit widget when shelve dialog closed (fixes #1933)
* repowidget: work around unwanted rejectBundle during pull to here (fixes #2596)
* sync: override defaultpush of outgoing preview if target specified (fixes #2609)
* sync: reassign finishfunc before retrying push --new-branch
* sync: reject empty host name before opening SecureDialog (fixes #684)
* sync: tone down new-branch error because it is handled specially (fixes #1137)
* run: export missing thgstatus command
* thgrepo: don't list related repositories of null node (fixes #2576)

== Improvements ==

* nautilus: overlay icons update
* repofilter: save "include all ancestors" setting (refs #2559)
* revdetails: add filter editbox
* settings: add 'Hooks' panel
* settings: check enabled extensions if they are not changeable
* sync, workbench: improve ordering of push/pull URLs
* sync: show target on the infobar if specified
* workbench: add shortcuts for task tabs.

== Installer ==

* pywin32 build 218
* win32: re-enable default editor for command line Mercurial

----

= TortoiseHg 2.8 =

TortoiseHg 2.8 is a major feature release

== Bug Fixes ==

* commit: convert options string to a HTML string (fixes #2543)
* manifest: report invalid --line option as error instead of traceback
* repotreeitem: have RepoItem respond to EditRole (fixes #2550)
* repoview: disable hover effect of column header because it has no click action
* run: forcibly use bundled Qt plugins in frozen environment (fixes #2513)

* several GC fixes causing "C++ object has been deleted" (fixes #2554, #2564)

== Installer ==

* enable mercurial_keyring by default on Windows

== Improvements ==

* annotate: group related context menu items
* annotate: 'Go to Original revision' on Ctrl+click or double click on margin
* commit: allow amending merge revisions when mercurial >= 2.6
* customtools: add 'workingdir' setting, {FILES} and {ALLFILES} variables
* customtools: add a "Custom Tools" submenu to the commit file context dialogs
* customtools: list available icons in setting dialog
* email: remember patch attachment (body, inline, attach) and diffstate options
* fileview: load selected text into searchbar when searchbar is shown
* graph: show graft relations (closes #2008)
* infobar: overlay infobar on top of revision graph (closes #2113)
* lexers: allow user configuration of lexers by file extension
* messageentry: make the lexer optional
* messageentry: improved "Apply Format" behavior
* qscilib: improve the multi-selection behavior
* repomodel: use monospace font for Node and Converted columns
* repofilter: add "Show/Hide hidden changesets" (and visual effect in graph)
* repofilter: better revset detection and visual effect (closes #2019)
* repofilter: remember working branch as special symbol (refs #2206)
* repofilter: show progress/error messages loudly in infobar (closes #344)
* repoview: add option to show full author name (closes #2434)
* repowidget: add menu to copy patch of multi-select to clipboard (closes #2504)
* repowidget: show the actual number of outgoing changesets
* revdetails: add revision details dialog
* settings: improved detection and selection of editor and terminal applications
* sync: add option to push without confirmation dialog (closes #190)
* workbench: allow clone dialog to be non-modal
* workbench: add combobox to select push/pull target
* workbench: don't display icons in menu on Mac OS X

----

= TortoiseHg 2.7.2 =

TortoiseHg 2.7.2 is a bug fix release with minor improvements

* Includes Mercurial 2.5.4

== Bug Fixes ==

* backout: manage connection from CheckThread in C++ layer (fixes #2471)
* commit: make sure to drop untranslatable character (fixes #2475)
* filedata: prepend diff header only if diff text is not empty (fixes #2462)
* icons: include 8bit alpha channel and use 16x16 for system tray icon (fixes #2464)
* infobar: use lambda to replace hash-like string by subrepo link (fixes #2484)
* manifest: move to the specified line even if path isn't changed (fixes #2501)
* mergetools: add a beyondcompare3-noauto merge tool (fixes #2073)
* mergetools: fix kdiff3-noauto detection
* pyqt: fix incompatibility with PyQt 4.10 (ArchLinux and Fedora) (fixes #2467)
* postreview: accept non-ascii summary text (fixes #2476)
* repowidget: do not allow a revision to be merged with itself (fixes #2455)
* sync: reload the list of paths explicitly on edit or remove (fixes #2473)
* thg: cleanup sys.stdin when launched as thgw.exe (fixes #484)

== Improvements ==

* filedata: distinguish between file copies and file renames
* pyqt: make settings dialog work with PyQt 4.6 (CentOs 6.3)

----

= TortoiseHg 2.7.1 =

TortoiseHg 2.7.1 is a bug fix release with minor improvements

* Includes Mercurial 2.5.2

== Bug Fixes ==

* annotate: show annotate menu even if no character exists under mouse cursor
* branchop: fix unicode and localstr comparison of wctx branch (fixes #1288)
* chunks, fileview: delay force-display until mouse release (fixes #2427)
* commit: skip pygments parsing when auto-complete is disabled (fixes #2407)
* commit, status: don't eliminate too many chars from repo link (fixes #2401)
* fileview: disable strikeout of excluded chunks by default (refs #2442)
* mergetools: force a check of p4merge outputs (refs #2415)
* repofilter: increase number of max visible branches on Windows (closes #2262)
* reporegistry: don't normcase subrepo path to be added (fixes #2251)
* reporegistry: fix AttributeError on open all, sort and Del key with no selection
* shortcuts: remove conflicted key bind from "open subrepository" (fixes #2443)
* status: forget checked state only after pctx changed (fixes #2376)
* status: postpone overlapped refreshWctx() request (fixes #2406)
* sync: target selection should override tortoisehg.defaultpush (fixes #2411)
* several GC fixes causing "C++ object has been deleted" exception (fixes #2425)

== Improvements ==

* mergetools: improve Code Compare 3-way merge configuration
* graph: only show "visible" revisions (early support for evolution extension)
* postreview: enable reviewboard context menu for mq patches
* pyqt: make workbench and commit tool work with PyQt 4.6 (CentOs 6.3)

----

= TortoiseHg 2.7 =

TortoiseHg 2.7 is a major feature release.  Because of the amount of churn in
both TortoiseHg and Mercurial, we are taking the unusual step of shipping 2.7 with the tip of Mercurial's stable branch prior to their feature freeze for the 2.5 release.  TortoiseHg 2.7.1 will be shipped with 2.5.1

* Includes Mercurial version 7648b87e76dbf89c9cdfb7993c52479480ff43c7 (2.4.2 + fixes)

== Bug Fixes ==

* update: fix unicode error on confirmation of bookmarks (fixes #2341)
* repotreemodel: recover from missing <allgroup> element (closes #1075)
* repotreemodel: remove unsafe processEvents() during loadSubrepos() (fixes #2256)
* status: respect filter text when the file list is refreshed
* bookmark, branchop, tag: work around case-insensitive completion of QComboBox
* qtlib: make sure getCurrentUsername() not fall back to system value
* purge: move completed() handlers to instance to avoid GC issue (fixes #2386)
* bisect: ask cmdui.Widget() to create a status bar (fixes #2390)
* guess: keep similarity as raw value for sorting (fixes #1332)

== Improvements ==

* change selection in the commit tool
* startup performance improvements (closes #940)
* cleanup menu and title strings

* blockmatcher: make BlockList clickable
* commit, revdetails: change splitter style to make it easier to see on Windows
* cmdui: prettify command-line string for display (closes #1529)
* fileview, shelve: add 'Display the file anyway' link when files or patches are not shown
* infobar: convert revision id hashes into links
* infobar: convert subrepo references and subrepo revision id hashes into links
  (needs Mercurial 2.5)
* mergetools: add a kdiff3-noauto merge tool disabling automated merge
* mergetools: add Windows support for "meld"
* serve: show balloon when minimizing running server to tray (refs #1845)
* settings: synchronize and remember the active page of all settings forms

== Installer ==

* Upgraded PyQt to 2.9.6 (from 2.9.1), which includes QScintilla 2.7 (fixes #2340)
* Upgraded python-keyring to 1.2

----

= TortoiseHg 2.6.2 =

This is a bug fix release with minor improvements

== Bug Fixes ==

* chunks: use regexp to capture .rej filename from non-English message
* clone: handle location of source patch repository as full path
* cmdui: always set percentage to QProgressBar (fixes #2261)
* rejects: handle non-ascii path correctly
* rename: remove workaround for case-changing rename on Windows

----

= TortoiseHg 2.6.1 =

This is a bug fix release with minor improvements

== Bug Fixes ==

* commit: hide the 'autoinc' option when merging
* copypatch: have dummy Writable object acts like a string (fixes #2280)
* copypatch: support internal lossless export/import via clipboard (fixes #841)
* hgignore: use util.expandpath() to expand env vars of ui.ignore (fixes #2306)
* manifestdialog: fix possible unicode error at cset link handler (fixes #2289)
* merge: refresh csinfo of commit page so that it can show two parents
* rejects: earlybytes fix (fixes #2295)
* rename: actually overwrite existing file if requested
* repofilter: use case-sensitive completion for revsets (fixes #2276)
* reporegistory: restore original behavior of setActiveTabRepo('') (fixes #2279)
* resolve: normalize paths before calling resolve
* update: correct default behavior of updating to bookmark to 'prompt'
* workbench: pushes new branch without failing if --pushafter set (fixes #1986)

== Improvements ==

* merge: improve Commit/Cancel buttons and merge "cancel" message (refs #1727)
* merge: let the user change the commit options on the merge wizard commit page (fixes #1727)
* resolve: add "diff to common ancestor" cmenu actions in resolve window (fixes #2201)
* resolve: add doubleclick actions in resolve window (fixes #2236)
* settings: completed helptext for 'Diff and Annotate' -> 'MQ Git Format'
* wctxactions: use RenameDialog for copy action

== Installer ==

* onsub extension now bundled
* dulwich upgraded to 0.8.7

----

= TortoiseHg 2.6 =

This is a major feature release

== Packaged Versions ==

* Mercurial 2.4+6-35ba170c0f82

== Bug Fixes ==

* cmdui, qscilib: avoid CTRL+L key binding collision (fixes #2205)
* commit: ignore IOError when saving state (fixes #2202)
* filectxactions: fix parent of vdiff warning dialog (fixes #2252)
* filectxactions: set up initial state of actions correctly (fixes #2255)
* fileview: fix possible TypeError on AnnotateThread.abort (fixes #2188)
* qtlib: check if user input can be converted to local encoding (fixes #2196)
* repomodel: avoid filled.emit() of destroyed HgRepoListModel (fixes #1267)
* repofilter: restore index of revset combobox to avoid extra activated signal
* repotreeitem: cast possible QString to unicode at setShortName (fixes #2227)
* revdetails: have message widget honor user-specified font
* reporegistry: activate the current repository entry after a model reload
* rollback: remove unwanted restriction of undo desc
* thg: make sure to load threading module by main thread (fixes #1894)
* workbench: use windows-safe getuser() to build IPC socket name (fixes #2238)
* grep: fix unicode handling of several context menu actions (fixes #2274)

== Improvements ==

* commit: prompt the user to set a default username on commit if necessary
* filedialogs: add multi-selection menu (fixes #1871)
* menu: add shelve to menuthg so it shows up in shellconf (fixes #2209)
* repomodel: add Latest tags column
* repowidget, status, manifest: change background color when a filter is applied
* resolve: add context-menu in resolve window (fixes #2200)
* settings: add 'phases.publish' support
* RTF file support in docdiff
= TortoiseHg 2.5.1 =

TortoiseHg 2.5.1 is a minor bug fix release

== Packaged Versions ==

* Mercurial 2.3.2
* wix: package x64 Pageant for 64bit Windows (fixes #2145)

== Bug Fixes ==

* filedialogs: only allow single selection (refs #1871)
* graft: sort graft source revisions from lowest to highest revision number (fixes #2159)
* hglib: make getDeepestSubrepoContainingFile() compatible with patchctx (fixes #2163)
* manifest: have fileIcon() handle unknown subrepo type gracefully (fixes #2174)
* repowidget: switch to outgoing context menu only if outgoing nodes exist (fixes #982)
* status: fix unicode handling at setFilter() (fixes #2168)
* sync: replace hg.islocal() on reload by lightweight alternative (fixes #2153)
* workbench: fix unicode error when opening repo via IPC channel (fixes #2135)
* workbench: work around QObject.sender() bug of PyQt 4.7.3 (fixes #2170)

== Improvements ==

* filedialogs: improve context menu descriptions
* repowidget: allow REVID as additional customtools command variable
* workbench: add help menu link to explorer help

----

= TortoiseHg 2.5 =

TortoiseHg 2.5 is a major feature release

== Packaged Versions ==

* Mercurial 2.3.1


== Bug Fixes ==

* filedata: ctx.sub() can throw a KeyError (refs #2115)
* filectxactions: descend into sub-repository if necessary (fixes #2035)
* hgqt: use setShortcuts() to preserve secondary key of StandardKey (refs #2045)
* nautilus: Fix issue #869 [1]. Nautilus extension now works
* revset: fix return key behavior (closes #2104)
* repowidget, status: delete old model on reload (refs #2119, #702)
* shortcuts: change all "Ctrl+Alt" shortcuts into "Ctrl+Shift" shortcuts (closes #1976)
* strip: fix compatibility with hg 2.3
* sync: reload the list of paths when a path is saved
* wctxactions: provide 'all' flag so that subrepo revert works (fixes #2122)

== Improvements over 2.4 ==

* compare: show "Editor Options" in menus, show horizontal scrollbars
* customtools: settings: add 'Tools' panel
  (includes format change of config file, 2f71b15196e9)
* docklog: add command history (closes #1779)
* docklog: add 'hg/thg command' completion
* filectxactions: add "Folder history" command
* filedata: add new binary detection heuristic, based on the max line length
* fileview: add 'Annotate Options' context submenu (fixes #1861)
* manifest: expand the file tree when "return" is pressed
* repofilter: restore previously selected branch (closes #1009, #1927)
* repofilter: show current working branch first (closes #2042)
* reporegistry: ensure that the selected tab item is visible
* settings: add "New Commit Phase" setting
* wctxactions: add a confirmation for revert of file types SAR! (closes #2102)
* workbench: make the task toolbar buttons configurable

----

= TortoiseHg 2.4.3 =

Released August 20, 2012

This is a scheduled minor release of TortoiseHG (2.4.3), but a major release of Mercurial (2.3)

== Packaged Versions ==

* Mercurial 2.3

Mercurial 2.3 breaks hgsubversion, so you must pull and update your
hgsubversion clone before upgrading to this release.  If you get an error
message "unable to open module repo!", then you have this problem and you must
update hgsubversion.  The same is true for hg-git, it must be updated before
you upgrade to Mercurial 2.3.

If you fail to update your extensions before upgrading, you must disable the
extensions in your Mercurial.ini file, then pull and update them, then finally
re-enable them.

== Bug Fixes ==

* bugtraq: add missing import of COMError (fixes #2013)
* commit: allow amending a revision without selecting any files
* commit: escape from mqPerformAction if canceled (fixes #2010)
* fileview: also preserve cursor position on reloading the same file (fixes #1803)
* mq: enable qreorder button if unapplied patch exists (refs #2064)
* guess: do not show unmodified largefiles as candidates for rename
* archive, rename: use getSaveFileName to select non-existent file for dest path
* reporegistry: fix unicode handling at open() called thru openClone()
* repowidget: don't clear revset text by request from filterbar (fixes #2020)
* repowidget: update menuselection even while bundle/outgoing (fixes #2052)
* revset: display "fromsvn" and "svnrev" items 0 or 1 time
* serve: minimal support for paths containing space or comma (fixes #2082)
* sync: correct logic whether to read defaultpush setting (fixes #2022)
* sync: don't show "new branch" confirmation endlessly (fixes #1615)
* sync: warn invalid port number at getfingerprint (refs #1910)
* wctxactions: do not offer the forget command for added files
* wctxactions: do not ask for revert --discard if files are not modified

== Installer ==

* Includes sspi package from pywin32

----

= TortoiseHg 2.4.2 =

Released July 2, 2012

This is a scheduled minor release, with some large packaging changes

== Packaged Versions ==

* Mercurial 2.2.3
* Python 2.7.3
* svn 1.7.5 (x86) 1.6.6 (x64)
* Installers and binaries have code signing signatures again

== Bug Fixes ==

* bugtraq: improve error handling
* commit: allow committing a merge that does not change a file
* commit: exclude all files on new/close branch if no file selected (fixes #1985)
* hgignore: ignore largefiles when scanning for untracked files (fixes #1978)
* lfprompt: catch ValueError from int() (fixes #1901)
* outgoing: fix push all command and improve outgoing infobar
* repofilter: don't disable branch options menu at all (fixes #1962)
* repowidget: bring back 'Browse at revision' menu action (closes #1920)
* sync: check if curalias is not None before using it (fixes #1950)
* tortoisehgtools: do not crash when command cannot be executed
* wctxactions: allow to overwrite existing file on copy (fixes #1983)

* fix several unicode errors

== Improvements ==

* annotate: take into account annotate settings
* graft: add basic support of graft core command
* mergetools: add support for Devart Code Compare and Code Compare 3 (Free and Pro)
* workbench: bring to front when opening a repo on Single Workbench mode

----

= TortoiseHg 2.4.1 =

Released June 8, 2012

This is a scheduled minor release

== Packaged Versions ==

* Mercurial 2.2.2
* hgcr-gui fixes

== Bug Fixes ==

* qrename: fix unicode error when displaying patch name (fixes #1914)
* rejects: ensure editing doesn't start before first line (fixes #1424, #369)
* remove unused tortoisehg/util/hgshelve.py, refs #1908
* repoview: hide "drop line" when dragging an unapplied patch to an invalid drop location
* repowidget: correct parameter for shell_notify()
* repowidget: fix 'Push all' revision context menu (was doing 'Push to here' instead)
* repowidget: refresh wctx status of commit widget by tab change (fixes #1657)
* repowidget: take into account the tortoisehg.branchcolors setting (refs #1644)
* revdetails: do not crash on visual diff for unapplied patches (fixes #1772)
* sync: append svn+https and git schemes to urlparse.uses_netloc
* sync: convert non-ascii alias/url correctly at editurl action
* sync: fix several unicode issues at SaveDialog (fixes #1883)
* sync: fix URL displayed on direct pull
* update: fix target information when updating to null revision
* workbench: fix unicode error while loading the last session

== Improvements ==

* commit: automatically set 'close branch' commit message
* graft: display graft source in changeset info when available
* repofilter: show the 'default' branch as the first branch on the branch combobox
* repowidget: make links (addresses and paths) on the infobar clickable
* sync: basic support for default push URL
* workbench: activate the tab that was active on the previous session

----

= TortoiseHg 2.4 =

Released May 5, 2012

This is a major feature release

== Packaged Versions ==

* Mercurial 2.2.1
* dulwich 0.8.5
* keyring 0.9
* Updated pageant.exe

== Bug Fixes ==

* merge: move initial focus to Next button (fixes #1868)
* update: improved bookmarks support
* openshell: show error if failed to execute shell command (fixes #1833)
* reporegistry: normalize paths of added repositories (fixes #1837)
* grep: convert filename column to unicode (fixes #1774)

== Improvements ==

* Workbench: new custom toolbar for custom commands
* Workbench: new "similar revisions.." dialog
* Workbench: optional "Single Wokbench Window" mode
* Workbench: startup progress bar
* Workbench: many more lexers enabled
* Workbench: add GitHub/BitBucket-like "README" file detection
* reporegistry: use a different icon for repositories located on UNC paths
* repowidget: keep URL of incoming bundle source as instance variable (refs #1118)
* repowidget: improve incoming pull infobar messages (fixes #1118)
* reporegistry: improve accuracy of subrepo detection when adding a repository (refs #1672)
* sync: in-place editing of URLs and aliases
* commit: add commit --amend support
* revdetails: improved display of tags and bug links

----

= TortoiseHg 2.3.2 =

Released April 23, 2012

This is a bug fix release.  Users of 2.3.n should upgrade

== Packaged Versions ==

* Mercurial 2.1.2

== Bug Fixes ==

* commit: fix traceback when issue.bugtraqparameters is not set (closes #1736)
* commit: prompt if user tries to close window while committing
* commit: truncate selected options label if needed (fixes #1731)
* icons: fix missing projrc icon (move settings-projrc.svg icon into icons/scalable)
* import: show the Import button when import fails
* manifest: do not try to edit folders except on the working directory
* manifest: handle revision links in dialog mode
* merge: do not close the wizard if a command is running (fixes #1338)
* patchctx: make phase info available for patches
* qtlib: fix handling of UNC paths (fixes #1798)
* reporegistry: improve accuracy of subrepo detection when adding a repository (refs #1672)
* reporegistry: warn if adding non-repository folder as subrepo (fixes #1830)
* repoview: forcibly clear selection on goto(rev) (fixes #1673)
* sync: disable save button when alias name is blank
* sync: hg push returns 1 if no changes found (fixes #1717)
* sync: prompt if user tries to close window while synchronizing
* tag: disable actions if a command is still running
* thgrepo: update timestamp only if changes detected successfully (fixes #1728)
* several fixes for unicode issue (#1651, #1754, #1770, #1774, #1822)

== Improvements ==

* commit: delay the bugtraq button setup to speed up the commit widget creation (closes #1734)
* commit: expand environment variables on tortoisehg.bugtraqparameters setting (closes #1733)
* compress: store/restore geometry
* nautilus: GNOME 3.2 compatibility update for nautilus-thg
* sync: improve pull/push behavior when no remote path is set
* sync: add support for editing aliases
* update: keep the state of the option expander and its expander button in sync
* workbench: improve push infobar message

----

= TortoiseHg 2.3.1 =

Released March 4, 2012

This is a bug fix release.  Users of 2.3 should upgrade

== Packaged Versions ==

* Mercurial 2.1.1

== Bug Fixes ==

* revdetails: don't test revison existence for workingctx (fixes #1617)
* sync: convert character encoding on load/save settings (fixes #1688)
* commit: display only whitelisted options (fixes #1647)
* repowidget: don't clearSelection in gotoParent (fixes #1673)

== Improvements ==

* qscilib: give the filEditor dialog a maximize button
* repowidget: limit infobar error messages to 2 lines of up to 140 chars by default
* repowidget: show all errors on infobar
* sync: improve support for hg-git extension
* largefiles: improve support of largefile extension

----

= TortoiseHg 2.3 =

Released February 14, 2012

This is a major feature release.  See 2.3-rc notes for full changes from 2.2

== Packaged Versions ==

* Mercurial 2.1
* Python keyring 0.7.2
* Mercurial_keyring 0.5
* Dulwich 0.8.3
* TortoiseOverlays 1.1.3.21564

== Bug Fixes ==

* revdetails: fall back to tip on reload if current rev is unknown (fixes #1581)
* visdiff: do not translate a debug message (closes #1595)
* settings: fix phase support detection
* manifestmodel: fix possible infinite-recursion of _buildrootentry

== Improvements ==

* qscilib: give the filEditor dialog a maximize button

----

= TortoiseHg 2.3-rc =

Released February 5, 2012

This is a major feature release

== Packaged Versions ==

* Mercurial 2.1
* Python keyring 0.7.2
* Mercurial_keyring 0.5
* Dulwich 0.8.3
* TortoiseOverlays 1.1.3.21564

== Bug Fixes ==

* shelve: prevent the use of bad characters in shelf files (fixes #765)
* sync: emit a message when outgoing --subrepo completes (closes #1564)
* qimport: check for existing patches (fixes #1569)
* commit: ensure autoinc files are included (closes #737)
* shelve: verify chunks are non-empty before proceeding (closes #1552)
* repotreeitem: sort subrepos by name by default (closes #1251)
* status: don't use thgrepo in thread (refs #1505)
* branchop, etc: fix encoding of repo.namedbranches in branchop dialog comboBox
* update: default the confirmation to "cancel" (closes #1325)
* thread: catch socket errors including SSLError (closes #1520)

== Improvements ==

* supprt for Mercurial phases in repowidget
* shellext - support for largefile extension
* new registry keys for DiffMerge 3.3
* settings: add defaultpush configuration setting
* "Go To Revision" button with shortcut CTRL+/
* workbench: add shortcut for "rollback" command (Ctrl-u)
* reporegistry: add cmenu sort actions for groups (closes #1189)
* repofilter: add "author(username)" permanent query
* repofilter: add "bookmark()" permanent query
* settings: add defaultpush configuration setting
* manifestmodel: add method to filter files by glob pattern
* manifest: add filter box to file tree
* commit: show selected options (closes #1491)
* filedialogs, manifest: add "save at revision" to cmenu (closes #1500)
* commit: support --subprepos option in DetailsDialog (closes #1379)
* commit: handle tolocal conversion failures more gracefully (closes #1516)
* revpanel: add source revision item for converted changesets
* repomodel: add column for source revision of converted changesets

== Installer ==

* hgfold extension removed, it no longer worked with modern Mercurial
* added projrc extension - https://bitbucket.org/aragost/projrc/
* pulled latest TortoisePlink executables from TortoiseSVN, x64 and x86 versions
* upgraded to most recent TortoiseOverlay merge modules
* upgraded to most recent diff/merge scripts

----

= TortoiseHg 2.2.2 =

Released January 2, 2012

This is a bug fix release.  All users of 2.2.n are recommended to upgrade

== Packaged Versions ==

* Mercurial 2.0.2

== Bug Fixes ==

* update: fixes for non-ascii branch names
* desktop: fix icon name (closes #1387)
* reporegistry, etc: allow non-ascii names to be submitted to clipboard
* visdiff: catch environment errors from snapshot file creation (closes #1499)
* rupdate: fix error when thg is run outside of the repository
* run: handle duplicated exceptions of the same type gracefully (fixes #1464)
* wconfig: translate ParsingError of iniparse to error.ParseError (refs #1512)

== Improvements ==

* repomodel: allow all patches to be reordered
* quickop: improved large file support
* quickop: improvements to initial check status
* status:  context menu for checking/unchecking selected files

----

= TortoiseHg 2.2.1 =

Released December 3, 2011

This is a bug fix release.  All users of 2.2.n are recommended to upgrade

== Packaged Versions ==

* Mercurial 2.0.1

== Bug Fixes ==

* commit: use cmd runner for rollback operations (fixes #1436)
* desktop: fix icon name (closes #1387)
* repowidget: manually reverse compress arguments (fixes #1344)
* thgrepo: wrap changectx.sub() to return thgrepo-aware subrepo obj (fixes #1386)
* chunks: catch ValueError from internalpatch (fixes #1249)
* commit: use command runner for rollback (fixes #1436)
* hgignore: catch IndexError while building pats list (fixes #1204)
* grep: fix #1428 rev and line are now sorted numerical
* manifest: don't test file status of directory node on doubleclick (fixes #1408)
* manifest: fix error while displaying subrepo (fixes #1386)
* repowidget: capture commit widget output (#1379)
* repowidget: manually reverse compress arguments (fixes #1344)
* shlib: call close() instead of rename() on Mercurial 2.0+ (fixes #1397)
* filedata: fix mode-only change detection on working dir
* grep: fix #1428 rev and line are now sorted numerical
* update: wctx.modified() is prone to throw EnvironmentError (closes #1435)
* visdiff: use os.makedirs() to re-create diff folder when necessary (fixes #1151)
* wctxactions: fix encoding of warning messages coming from hg

== Improvements ==

* commit: add several actions to subrepo context menu
* commit: make stand-alone dialog support mq
* rebase: add collapse rebased changesets option (fixes #1381)
* repomodel: more stable branch colors
* reporegistry: improve error handling while adding a subrepository
* repowidget: make double clicking an applied patch qgoto that patch (closes #1044)
* repowidget: add "Goto common ancestor" command in pop-up menu
* revdetails: add "Copy Path" in pop-up menu
* sync: add support for the --mq option in the sync tool
* workbench: add "Goto revision" command

----

= TortoiseHg 2.2 =

Released November 6, 2011

This is a feature release.

== Packaged Versions ==

* Mercurial 2.0
* Dulwich 0.8.1

== Bug Fixes ==

* backout: verify the working parent (fixes #1304)
* chunks, thgrepo: catch race conditions querying mtime (fixes #1327)
* export: fix unicode error when exporting a single changeset (fixes #1352)
* hgstrip: allow revision 0 to be stripped
* manifest: handle non-ascii filename passed from command-line (fixes #1167)
* mmerge: catch EnvironmentError from wctx.dirty() in check thread (fixes #1336)
* repomodel: remove circular reference to self from _columnmap (fixes #1254)
* reporegistry: Add subrepos could fail due to case and forward/backward slash differences
* repoview: trap EnvironmentError in saveSettings() (fixes #1330)
* settings: pass non-ascii filename correctly to file editor
* visdiff: properly detect copies/renames on Windows (closes #742, #679)

== Improvements ==

* commit: add setting to automatically refresh the status list when it is shown (#143)
* hgignore: prompt to add newly created .hgignore file
* i18n: add Arabic, Indonesian and Javanese translations
* qscilib: make autocomplete configurable, disabled by default
* settings: add setting to open new tabs next to the current tab
* fileview: better appearance of horizontal scroll bar
* largefiles/kbfiles: add support for largefiles and kbfiles extensions
* reporegistry: allow dragging groups into groups
* reporegistry: close the relative tab when repository is removed from registry
* sync: added support for pushing or pulling a specific branch (fixes #1012)
* shellext: improved Unicode support

----

= TortoiseHg 2.1.4 =

Released October 5, 2011

This is a bug fix release.  All users of 2.1.n are recommended to upgrade

== Packaged Versions ==

* Mercurial 1.9.3

== Bug Fixes ==

* filedata: normalize add/rename checks for binary files (fixes #1152)
* repotreeitem: Handle all exceptions that may happen during appendSubrepos (closes #1175)
* chunks: handle perm errors from revert() calls that delete files (fixes #1215)
* sync: no parent is available in parseurl (fixes #1216)
* repofilter: ignore errors in saveSettings (fixes #1235)
* reporegistry: Do not try to show subrepos for non mercurial repositories (closes #1085)
* repowidget: do not allow visualDiffToLocal to use the working dir (fixes #1247)
* mq: fix calls to QuestionMsgBox (closes #1257)
* sync: use str.split instead of QString.split at ssh url parsing (fixes #1280)
* mergetools: add regkeyalt for BeyondCompare (closes #1264)
* repowidget: catch ValueError from rebuildGraph() (closes #1269)

== Improvements ==

* export: set the default patch name to the rev number when exporting a single revision <<changeset f6f4546dd6da>>
* hgignore: add context menu for {{{**}}} <<changeset 0e16f7eb45c7>> and double click action <<changeset 66cc70957f66>>

----

= TortoiseHg 2.1.3 =

Released August 28, 2011

This is a bug fix release.  All users of 2.1.n are recommended to upgrade

== Packaged Versions ==

* Mercurial 1.9.2

== Bug Fixes ==

* repowidget: clear infobar at start of sync operation (fixes #965)
* #999 - UnicodeDecodeError in Annotation files dialog
* #1000 - Visual diff with local fails on stand-alone annotation dialog
* #1036 - UnicodeDecodeError when export a commit to patch
* #1042 - ImportError: No module named thginithook
* #1049 - missing last character of history search result
* #1050, #1057 - goto revision not work (nodeid hyperlink / after-pull focus)
* #1080 - KeyError 'ignorecase' in manifestdialog.py
* #1088 - branch filter fails to display non-ascii characters
* Probable workaround for hard crashes during Python garbage collection

== Improvements ==

* Numerous layout and behavior tweaks

----

= TortoiseHg 2.1.2 =

Released August 1, 2011

This is a bug fix release.  All users of 2.1.n are recommended to upgrade

== Packaged Versions ==

* Mercurial 1.9.1
* Dulwich 0.8.0

== Bug Fixes ==

* fileview: catch mode changes while diff marker thread is active (fixes #921)
* fileview: fix syntax error (close #922)
* repowidget: clear filter text in clearRevisionSet() (closes #925)
* qtlib: HgRepoView.forward() must forward keyword parameters
* reporegistry: fix unicode handling at addSubrepo() (fixes #947)
* filedata: handle 'removed and dirty' subrepo state (closes #934)
* repowidget: abort bundle pulls if self.bundle is None (closes #959)
* commit: catch TypeError from guess_lexer_for_filename (closes #962)
* repoview: ensure that revision being selected is visible (fixes #946)
* manifestdialog: only pass a Workbench window as repoviewer (fixes #938)
* status: update check box to match file check states (fixes #960)
* revset: respond to the arrow keys (fixes #833)
* qtlib: open only existing paths in terminal
* manifest: do not crash when calling revert on the working directory
* revert: throw a ValueError, rather than crashing, when reverting to the None rev
* reporegistry: better common path extraction on Windows
* messageentry: allow resizing commit message box down to one line (fixes #44)
* sync: require that port be numeric and in the appropriate range (fixes #994)
* workbench: showRepo() takes a QString or Unicode string (closes #1003)
* manifestdialog: set ignorecase during init, fixes highlighting on Annotate File in search
* workbench: do not reopen repos during startup until subrepos have been loaded into the registry (closes #1017)
* qtlib: make InfoBar word-wrap long status/error message (fixes #1031)
* grep: convert ctx search results to unicode before dispalying in tableview
* thgrepo: add option not to monitor changes on network drives (refs #889)
* repoview: fixes ctrl click behavior reported in #1019

== Improvements ==

* backout: add support for backing out merge revisions
* many layout improvements
* add background-color support to diff lexer
* update: add checkbox for --verbose
* registry: Add keyboard shortcut for delete (Suppr) and rename(F2)
* sync: allow username to be edited in ssh hostentry (closes #964)
* bugreport: include encoding value in report text
* cmdui: show red error message if command fails
* status: hide check boxes in standalone status browser
* several usability improvements to the settings tool
* reporegistry: mark .hgsub file for add when it is created
* reporegistry: Make sure that the item corresponding to the active tab is visible

----

= TortoiseHg 2.1.1 =

Released July 7, 2011

This is a bug fix release.  All users of 2.1 are recommended to upgrade

== Packaged Versions ==

* Mercurial 1.9+10 (tip of stable branch)
* Updated perfarce extension, now hg-1.9 compatible

== Bug Fixes ==

* sync: move import of paths to top of the file (fixes #853, etc)
* hgcrutil: add missing import of _() (closes #852)
* NameError: global name 'paths' is not defined (#853)
* wctxactions: give parent to transient menus (closes #716)
* repomodel: reorder colors in Changes column (refs #776)
* sync: do not use --bookmark argument for target in in/out commands (refs #901)
* wctxactions: fix rename from status/commit dialogs (fixes #902)
* thg: workaround for resolve tool bug (fixes #891)
* archive: fix bad handling of non-ascii path (fixes #883)
* thg: reintroduce stderr capture (closes #856)
* shelve: fix shelf creation when .hg/shelves must be created
* visdiff: fix possible unicode error at launchtool (fixes #796)
* fileview: avoid unwanted unicode issue at timerBuildDiffMarkers (fixes #857)
* shellext: additionally use GetDriveType for local disks check (closes #842)

----

= TortoiseHg 2.1 =

Released July 1, 2011

This is a major feature release

== Packaged Versions ==

* Mercurial 1.9

== Bug Fixes ==

* only read hgrc files of related repositories on local disks (fixes #537)
* filedata: note when binary files have been added (fixes #849)
* shelve: do not use repo.opener to create new shelf files (refs #832)
* thgrepo: ignore folders in the shelve directory (fixes #832)
* wix: catch up with Mercurial b30c889584ef (fixes #844)
* status: double click signal was redundant with default wctxaction (fixes #848)
* wctxactions: pass absolute paths to commands.resolve() (closes #747)
* guess, wctxactions: workingctx.remove() has been obsoleted (closes #840) 
* repofilter: added option to display only active branches (closes #577)
* revdetails: disable actionShowAllMerge by default (closes #818)
* revert: handle non-ascii filenames in prompt (closes #824)
* wctxactions: fix error message (closes #781)
* thgimport: do not import if no patch available (fixes #773)

And dozens more fixes made in the last four months...

== Improvements ==

Many improvements based on user feedback after the 2.0 launch

* (manifest) uses the same file display widget as revdetails and commit
* (fileview) improved controls for merge revisions
* (commit) improved layout of file filter and checkbox features
* (bugtraq) integration with BugTraQ COM interface
* (sync) notification bar, and busy icon on repository tabs
* (registry) automatically picks up changes made in other processes
* (registry) detect nested repositories and subrepositories
* (workbench) uses QFileSystemWatcher to get file system notifications
* (file history) added context menu for file revision features
* (mq) new patch queue dock widget, qnew/qrefresh support in commit tool
* (merge) improvements to the merge wizard layout and flow
* (backout) refactored the backout tool as a QWizard
* (workbench) user can configure default widget and revision shown at startup
* (workbench) add bundle creation features

== Installer ==

* new zipdoc extension

[[OlderReleaseNotes]]
= TortoiseHg 2.0.5 =

Released June 1, 2011

This is a scheduled bug fix release with a number of minor improvements

== Packaged Versions ==

* Mercurial 1.8.4
* Dulwich 0.7.1

== Bug Fixes ==

* #206 - (detect renames) fix keyboard navigation
* #433 - (visdiff) prevent UnicodeDecodeError while launching diff tool
* #502 - (Workbench) warn if export would append an existing patch file
* #632 - (commit) fix performance issues when toggling a large number of files
* #637 - (clone) TypeError: coercing to Unicode: need string or buffer, NoneType found
* #638 - (merge) use the same fallback methods as the commit tool to get a username
* #641 - (Workbench) catch ConfigError globally and try to help user recover
* #637 - (shelve) fix unshelve behavior on merged working directories
* #652 - (Workbench) fix performance when viewing large files
* #653 - (filehistory) prevent tracebacks from clicking on the background
* #661 - filedata: catch aborts while checking for binary status
* #662 - (manifest) disable context menu if no rows are selected
* #676 - validate --repository argument before use
* #682 - (import) avoid string decoding errors by using QDir native methods
* #701 - (setup) fix path manipulation on POSIX platforms
* #710 - (shelve) catch AttributeError tracebacks from patch parser
* #712 - (commit) ignore autoinc when committing a merge
* #738 - (ignore) fix multiple selection behavior
* #745 - (tag) fix tracebacks from certain error conditions
* #754 - (Workbench) fix traceback when viewing empty filter
* #755 - (annotate)  prevent UnicodeDecodeError when annotating files
* #756 - (Workbench) prevent KeyError when configuring columns without an open repo
* #759 - (Workbench) catch zlib.error globally and request a refresh

== Improvements ==

* (Workbench) CTRL+W shortcut for closing tabs on Windows
* (Workbench) do not try to parse dragged binary files as patches
* (update) persist some options
* (detect renames) improvements to dialog workflow
* (commit) auto-refresh when the repository's working parents are changed
* (revset) show a clearer message when no matches were found
* (shelve) sort shelve files by their modification times
* (filterbar) improve clear and close behavior
* (qimport) improved behavior when patch names would conflict
* filedata: improve the display of subrepositories in some uncommon states

== Installer ==

* hgcr extension (Qt version) is now bundled again
* library.zip now includes json #736 

----

= TortoiseHg 2.0.4 =

Released May 1, 2011

This is a scheduled bug fix release with a number of minor improvements

== Packaged Versions ==

* Mercurial 1.8.3
* Pygments 1.4

== Bug Fixes ==

* #42  - cmdui: make sure newly opened prompt line is visible
* #446 - fix visual diffs of incoming changesets
* #462 - avoid encoding errors in the shelve tool by avoiding unicode round trip
* #504 - fix incompatibility with Google Pinyin input method
* #509 - Merge and backout dialogs did not respect push-after-commit
* #512 - handle non-ascii repository name during export and archive
* #514 - disallow consecutive clones to the same destination folder
* #516 - shelve buttons not disabled when a patch was empty
* #517 - fix shelving of chunks that have the same starting line
* #531 - prevent hard crashes seen after previewing incoming changesets
* #541 - do not create annotate menus if annotation thread has not reached current line
* #542 - fix branch name encoding mixup
* #547 - validate index in filelistview before generating a context menu
* #552 - rebase: disable buttons during wctx check
* #555 - cmenu: add annotate to file selection context menu
* #558 - workbench: do not try to open ssh:// URLs as local repositories
* #562 - hgignore: better handle wctx errors in the refresh function
* #570 - fix UnicodeDecodeErrors in annotation view
* #576 - fix UnboundLocalError in hgignore
* #579 - do not needlessly insert a newline between shelved patches
* #595 - add missing import for _() in qtlib
* #599 - catch environment errors when repowidgets are closed
* #608 - prevent IndexError during refresh of file history dialogs
* #612 - serve: respect repo's configured http port
* #614 - rename: fix display of non-ascii paths
* #623 - sync: properly handle ssh urls that have '@' in the username
* fix support for Python2.4

== Improvements ==

* #52 - allow reordering of groups in the reporegistry, along with their content
* sync - display currently selected push/pull options
* #275 - status/commit: allow fileview to be compressed beyond file name
* status/commit: double click opens visual diffs for single file
* #565 - status/commit: support auto-excludes
* clone - use a subprocess to perform perforce clones (using the perfarce extension)
* clone - it's now possible to select another patch queue than the default one for qclone
* #601 - add --keepbranches option to rebase dialog
* #610 - allow use of numeric keypad Enter key for most shortcuts
* #326 - offer 'default' and 'default-push' as drop-down options for 'push after commit'
* #569 - bundle distutils in binary packages, fixes pygments including the lexer used to generate completion strings in the commit tool.
* rename - use repository manifest as line edit completer

== Installer ==

* package Qt translations for standard buttons, etc
* many translation improvements
* Updated TortoisePlink to the current version shipped with TortoiseCVS

----

= TortoiseHg 2.0.3 =

Released April 1, 2011

This is a scheduled bug fix release with a number of minor improvements

== Packaged Versions ==

* Mercurial 1.8.2

== Bug Fixes ==

* #81 - improve labels of merge buttons in resolve dialog
* #161 - prevent qrename from using an existing patch name
* #174 - prevent file history from being launched from shelve dialog
* #193 - open visual diffs on double-click
* #229 - libsasl.dll was missing from x86 packages
* #269 - give quickop dialog the ability to delete unversioned files
* #282 - validate the correct postreview extension is in use
* #295 - shelve: fix race condition in detecting shelf file changes
* #300 - hgignore: catch errors during repo.status() call
* #302 - sync widget could show the lock button for local urls
* #306 - outgoing can cause IndexError in setRevisionSet
* #307 - fix crash in templatefilters caused by bad patches
* #311 - UnicodeDecodeError in rename dialog
* #318 - dragging URLs from registry to sync tab should not delete URL from registry
* #319 - Workbench: update sync tooltips to reflect their current behavior
* #325 - TypeError raised by os.path.isfile() in thgrepo.changectx()
* #328 - chunks: UnicodeDecodeError while moving chunks
* #330 - wctxactions: UnicodeDecodeError while showing warnings/errors
* #331 - sync: ignore .hg/rebasestate if --rebase was not used in command
* #335 - enforce maxdiffsize when displaying deleted files
* #336 - commit: clear branch operation after every successful commit
* #338 - grep: prevent AttributeError after stopping a search
* #340 - grep: catch I/O errors while scanning working directory
* #342 - repotreemodel: validate internalPointer(), prevent a TypeError
* #346 - UnicodeDecodeError in bug report dialog save function
* #347 - registry: fix deletion behavior
* #348 - Assign "changelog" font to revisioned text without a lexer
* #359 - LookupError from ambiguous revision set query
* #360 - Prevent certain tracebacks in file history dialogs
* #361 - shelve: catch environment errors while patching
* #364 - qfold: fix patch message decoding
* #371 - shelve: catch an empty patch being applied
* #373 - Fix abort when command needs a repository but was not within one
* #378 - dropping a patch on the MQ tab was broken
* #379 - backout: improve UI at the end of the operation
* #381 - commit: do not pre-check unknown files even when they match filter
* #387 - ignore: fix context menu behavior
* #391 - status: prevent errors on button presses when model is empty
* #393 - update: check subrepo status before using update --clean
* #401 - fix repeated visual diffs of working folder
* #402 - fileview: catch generic file and lookup errors
* #405 - sync: catch environment errors when opening a terminal
* #406 - sync: cast exceptions to strings before converting to unicode
* #408 - commit: prevent IndexError in message history maintenance
* #410 - guess: fix unicode decode errors in path display
* #411 - workbench: add unicode conversion when openRepo fails
* #412 - settings: add unicode conversion when repo does not exist
* #417 - repotreeitem: catch RepoError more cleanly
* #422 - hgemail: prevent exceptions on empty change messages
* #423 - annotate: properly handle bundle previews
* #429 - generically capture exceptions while gathering graph data
* #431 - sync: use the given port when querying server certificate
* #442 - shelve: respect user's patch.eol configuration
* #453 - fix translation of Filenames column
* #460 - status: catch more errors during refresh
* #467 - rejects: preserve eoln state of patch chunks
* #469 - prevent race conditions after pulling from a bundle
* #472 - fix color extension use from shells opened by THG
* #473 - displayed revision sets should respect current branch filter
* #474 - purge: give purge thread its own repo object, prevents hazards
* #478 - remember selected revision when toggling filter mode
* #489 - disable the hiding of the file history toolbars
* #493 - fix progress signals from output log widget
* Workbench: properly show search bar state at startup

== Improvements ==

* #247, #297 - commit: show progress bar, disable commit button, add a stop button during commit
* #313 - add transplant menu option to multiple-selection menus
* #366 - archive: support subrepositories
* #385 - merge: improve default merge message for named branch merges
* #436 - hide filter bar if cleared twice or return pressed on empty entry
* #458 - resolve: show local and other revision summaries
* grep: recursively scan Mercurial subrepositories when searching the working directory
* status: share status button with manifest tool
* serve: improve support for subrepositories
* sync: more effectively filter duplicate paths from related paths list
* Workbench: improve graph resize logic
* Workbench: close repository tabs by middle-click
* Workbench: display modified subrepositories in revision details tab
* fileview: add eoln visibility toggle to context menus
* Free entire repository tab widget when it is closed
* Better use of user configured Windows fonts

== Installer ==

* Added a number of new translations

----

= TortoiseHg 2.0.2 =

Released March 10, 2011

This is a quick fix build for a regression (#309) in 2.0.1.

= TortoiseHg 2.0.1 =

Released March 10, 2011

This is a bug fix release with minor improvements

== Packaged Versions ==

* Mercurial 1.8.1

== Bug Fixes ==

* #60, #201, #239 - drop bin/ folder, add root folder to %PATH%
* #78 - clone: use native path separators in path names
* #173 - manifest: IndexError: list index out of range
* #177 - show bookmarks in update dialog, fix bookmark behavior, improve bookmark dialog
* #178 - visdiff: KeyError from toolSelect
* #181 - visdiff: TypeError: p1dirdiff() takes exactly 2 arguments (1 given)
* #183 - visdiff: TypeError: argument of type 'NoneType' is not iterable
* #185 - settings: extensions page was confused by 'hgext.' prefixes
* #187 - documentation fix (f.i.)
* #189 - settings: no configuration for issue tracker linking
* #194 - qtlib: TypeError: signal clicked(bool) has 1 argument(s)Key
* #197 - fileview: fix diff markers in file mode
* #198 - compare file history: convert file data to unicode before displaying
* #202 - workbench: Abort: no username supplied (see "hg help config")
* #203 - compress: AttributeError: 'Widget' object has no attribute 'stbar'
* #204 - commit: "No files found for this operation"
* #205 - commit: handle non ASCII encoded filenames
* #209 - x64 Mercurial could not find 32bit diff/merge tools
* #212 - shelve: AttributeError: 'ChunksWidget' object has no attribute 'mtime'
* #213, #232 - repowidget: catch errors when selecting a revision
* #214 - settings: UnicodeDecodeError from username
* #225 - sync: catch ssh URL parse errors
* #227 - run: catch environment errors when opening repositories
* #228 - manifest: models leaked memory
* #229 - x86 packages did not have all the SVN SWIG DLLs
* #230 - about: do not block dialog closing on network errors
* #231 - AttributeError: 'SyncWidget' object has no attribute 'targetargs'
* #233 - sync: keep bundle file in local encoding
* #234 - clipboard: fix encoding of data sent to the clipboard
* #246 - merge: AttributeError: 'ResultPage' object has no attribute 'reject'
* #264 - sync: catch errors from fingerprint query
* #268 - show clean file contents
* #276 - unshelve not applying chunks to dos EOLN files
* Fix file dragging into applications like VisualStudio

== Improvements ==

* improve performance of sync tool startup, do not open related repositories
* preserve changeset graph column widths per repository
* improve sorting behavior in the status tool and its derivatives
* sync: add --debug flag to the options dialog
* verify and enforce minimum Qt/PyQt versions

== Installer ==

* x64 installers now provide 64bit native PyQt applications, which means they no longer install in Program Files (x86), they install in Program Files.
* hg.exe and thg.exe are in the %PATH% again, unlike the 2.0 installers.  The bin/ folder has been removed.
* kdiff3.exe is again in the %PATH%
* kdiff3.exe was upgraded from the 1.1 release to the 2.0 release.  It appears to have a bug when reading its old configuration files that cause it to save merge results in DOS EOLN.  If you are upgrading a 1.1 install or have run KDiff3 in the past, it is suggested to run the new KDiff3 and check this configurable.

----

= TortoiseHg 2.0 =

Released March 1, 2011

This is a major feature release.  All of the TortoiseHg applications
have been converted from PyGtk to PyQt.

* http://tortoisehg.bitbucket.org/manual/2.0/whatsnew.html
* http://tortoisehg.bitbucket.org/screenshots.html

== Packaged Versions ==

* Mercurial 1.8
* Qt 4.7.1
* PyQt 4.8.2
* dulwich 0.7.0

== Installer ==

* x64 installers now provide 64bit native PyQt applications, which means they no longer install in Program Files (x86), they install in Program Files.
* hg.exe and thg.exe are not in %PATH%, we add a bin\ folder with short batch files.  TortoisePlink and Pageant.exe are also in the bin\ folder so they remain in the path.
* kdiff3.exe is not in the system path, since it uses the same QT dlls as TortoiseHg it needs to be in the root folder.
* kdiff3.exe was upgraded from the 1.1 release to the 2.0 release.  It appears to have a bug when reading its old configuration files that cause it to save merge results in DOS EOLN.  If you are upgrading a 1.1 install or have run KDiff3 in the past, it is suggested to run the new KDiff3 and check this configurable.
