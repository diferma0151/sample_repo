= Release Notes for TortoiseHg =

This wiki page contains last minute notes to users about the releases,
which may not be included in the documentation or README files included
with the distribution kits.  It also contains change information, for
users who are interested in what bugs have been fixed, and what features
have been added in the current version.

**Note that like TortoiseSVN, [[http://www.selenic.com/pipermail/mercurial/2010-January/029680.html|we recommend]] to to turn off the indexing service on the working copies and repositories, and exclude them from virus scans.**

<<toc>>

== Matching Versions ==

If you are using TortoiseHG from source, we recommend you use the most
recent stable releases of TortoiseHG and Mercurial together.  If you must use
an older version of Mercurial, please consult the following chart:

|= Mercurial Release |= TortoiseHg Release |
| <= 1.0 | 0.5 |
| 1.1.X | 0.6 |
| 1.2.X | 0.7.6 |
| 1.3.X | 0.8.n |
| 1.4.x | 0.9.n |
| 1.5.x | 1.0.n |
| 1.6.x | 1.1.n |
| 1.7.x | 1.1.9.1 |
| 1.8.x | 2.0.n |
| 1.9.x | 2.1.n |
| 2.0.x | 2.2.n |
| 2.1.x | 2.3.n |
| 2.2.x | 2.4.n |
| 2.3.x | 2.5.n |
| 2.4.x | 2.6.n |
| hg default tip | thg default tip |

----

= TortoiseHg 2.6.1 =

This is a bug fix release with minor improvements

== Bug Fixes ==

* commit: hide the 'autoinc' option when merging
* copypatch: have dummy Writable object acts like a string (fixes #2280)
* copypatch: support internal lossless export/import via clipboard (fixes #841)
* hgignore: use util.expandpath() to expand env vars of ui.ignore (fixes #2306)
* manifestdialog: fix possible unicode error at cset link handler (fixes #2289)
* merge: refresh csinfo of commit page so that it can show two parents
* rejects: earlybytes fix (fixes #2295)
* rename: actually overwrite existing file if requested
* repofilter: use case-sensitive completion for revsets (fixes #2276)
* reporegistory: restore original behavior of setActiveTabRepo('') (fixes #2279)
* resolve: normalize paths before calling resolve
* update: correct default behavior of updating to bookmark to 'prompt'
* workbench: pushes new branch without failing if --pushafter set (fixes #1986)

== Improvements ==

* merge: improve Commit/Cancel buttons and merge "cancel" message (refs #1727)
* merge: let the user change the commit options on the merge wizard commit page (fixes #1727)
* resolve: add "diff to common ancestor" cmenu actions in resolve window (fixes #2201)
* resolve: add doubleclick actions in resolve window (fixes #2236)
* settings: completed helptext for 'Diff and Annotate' -> 'MQ Git Format'
* wctxactions: use RenameDialog for copy action

== Installer ==

* onsub extension now bundled
* dulwich upgraded to 0.8.7

----

= TortoiseHg 2.6 =

This is a major feature release

== Packaged Versions ==

* Mercurial 2.4+6-35ba170c0f82

== Bug Fixes ==

* cmdui, qscilib: avoid CTRL+L key binding collision (fixes #2205)
* commit: ignore IOError when saving state (fixes #2202)
* filectxactions: fix parent of vdiff warning dialog (fixes #2252)
* filectxactions: set up initial state of actions correctly (fixes #2255)
* fileview: fix possible TypeError on AnnotateThread.abort (fixes #2188)
* qtlib: check if user input can be converted to local encoding (fixes #2196)
* repomodel: avoid filled.emit() of destroyed HgRepoListModel (fixes #1267)
* repofilter: restore index of revset combobox to avoid extra activated signal
* repotreeitem: cast possible QString to unicode at setShortName (fixes #2227)
* revdetails: have message widget honor user-specified font
* reporegistry: activate the current repository entry after a model reload
* rollback: remove unwanted restriction of undo desc
* thg: make sure to load threading module by main thread (fixes #1894)
* workbench: use windows-safe getuser() to build IPC socket name (fixes #2238)
* grep: fix unicode handling of several context menu actions (fixes #2274)

== Improvements ==

* commit: prompt the user to set a default username on commit if necessary
* filedialogs: add multi-selection menu (fixes #1871)
* menu: add shelve to menuthg so it shows up in shellconf (fixes #2209)
* repomodel: add Latest tags column
* repowidget, status, manifest: change background color when a filter is applied
* resolve: add context-menu in resolve window (fixes #2200)
* settings: add 'phases.publish' support
* RTF file support in docdiff

----

= TortoiseHg 2.5.1 =

TortoiseHg 2.5.1 is a minor bug fix release

== Packaged Versions ==

* Mercurial 2.3.2
* wix: package x64 Pageant for 64bit Windows (fixes #2145)

== Bug Fixes ==

* filedialogs: only allow single selection (refs #1871)
* graft: sort graft source revisions from lowest to highest revision number (fixes #2159)
* hglib: make getDeepestSubrepoContainingFile() compatible with patchctx (fixes #2163)
* manifest: have fileIcon() handle unknown subrepo type gracefully (fixes #2174)
* repowidget: switch to outgoing context menu only if outgoing nodes exist (fixes #982)
* status: fix unicode handling at setFilter() (fixes #2168)
* sync: replace hg.islocal() on reload by lightweight alternative (fixes #2153)
* workbench: fix unicode error when opening repo via IPC channel (fixes #2135)
* workbench: work around QObject.sender() bug of PyQt 4.7.3 (fixes #2170)

== Improvements ==

* filedialogs: improve context menu descriptions
* repowidget: allow REVID as additional customtools command variable
* workbench: add help menu link to explorer help

----

= TortoiseHg 2.5 =

TortoiseHg 2.5 is a major feature release

== Packaged Versions ==

* Mercurial 2.3.1


== Bug Fixes ==

* filedata: ctx.sub() can throw a KeyError (refs #2115)
* filectxactions: descend into sub-repository if necessary (fixes #2035)
* hgqt: use setShortcuts() to preserve secondary key of StandardKey (refs #2045)
* nautilus: Fix issue #869 [1]. Nautilus extension now works
* revset: fix return key behavior (closes #2104)
* repowidget, status: delete old model on reload (refs #2119, #702)
* shortcuts: change all "Ctrl+Alt" shortcuts into "Ctrl+Shift" shortcuts (closes #1976)
* strip: fix compatibility with hg 2.3
* sync: reload the list of paths when a path is saved
* wctxactions: provide 'all' flag so that subrepo revert works (fixes #2122)

== Improvements over 2.4 ==

* compare: show "Editor Options" in menus, show horizontal scrollbars
* customtools: settings: add 'Tools' panel
  (includes format change of config file, 2f71b15196e9)
* docklog: add command history (closes #1779)
* docklog: add 'hg/thg command' completion
* filectxactions: add "Folder history" command
* filedata: add new binary detection heuristic, based on the max line length
* fileview: add 'Annotate Options' context submenu (fixes #1861)
* manifest: expand the file tree when "return" is pressed
* repofilter: restore previously selected branch (closes #1009, #1927)
* repofilter: show current working branch first (closes #2042)
* reporegistry: ensure that the selected tab item is visible
* settings: add "New Commit Phase" setting
* wctxactions: add a confirmation for revert of file types SAR! (closes #2102)
* workbench: make the task toolbar buttons configurable

----

= TortoiseHg 2.4.3 =

Released August 20, 2012

This is a scheduled minor release of TortoiseHG (2.4.3), but a major release of Mercurial (2.3)

== Packaged Versions ==

* Mercurial 2.3

Mercurial 2.3 breaks hgsubversion, so you must pull and update your hgsubversion clone before upgrading to this release.  If you get an error message "unable to open module repo!", then you have this problem and you must update hgsubversion.  The same is true for hg-git, it must be updated before you upgrade to Mercurial 2.3.

If you fail to update your extensions before upgrading, you must disable the extensions in your Mercurial.ini file, then pull and update them, then finally re-enable them.

== Bug Fixes ==

* bugtraq: add missing import of COMError (fixes #2013)
* commit: allow amending a revision without selecting any files
* commit: escape from mqPerformAction if canceled (fixes #2010)
* fileview: also preserve cursor position on reloading the same file (fixes #1803)
* mq: enable qreorder button if unapplied patch exists (refs #2064)
* guess: do not show unmodified largefiles as candidates for rename
* archive, rename: use getSaveFileName to select non-existent file for dest path
* reporegistry: fix unicode handling at open() called thru openClone()
* repowidget: don't clear revset text by request from filterbar (fixes #2020)
* repowidget: update menuselection even while bundle/outgoing (fixes #2052)
* revset: display "fromsvn" and "svnrev" items 0 or 1 time
* serve: minimal support for paths containing space or comma (fixes #2082)
* sync: correct logic whether to read defaultpush setting (fixes #2022)
* sync: don't show "new branch" confirmation endlessly (fixes #1615)
* sync: warn invalid port number at getfingerprint (refs #1910)
* wctxactions: do not offer the forget command for added files
* wctxactions: do not ask for revert --discard if files are not modified

== Installer ==

* Includes sspi package from pywin32

----

= TortoiseHg 2.4.2 =

Released July 2, 2012

This is a scheduled minor release, with some large packaging changes

== Packaged Versions ==

* Mercurial 2.2.3
* Python 2.7.3
* svn 1.7.5 (x86) 1.6.6 (x64)
* Installers and binaries have code signing signatures again

== Bug Fixes ==

* bugtraq: improve error handling
* commit: allow committing a merge that does not change a file
* commit: exclude all files on new/close branch if no file selected (fixes #1985)
* hgignore: ignore largefiles when scanning for untracked files (fixes #1978)
* lfprompt: catch ValueError from int() (fixes #1901)
* outgoing: fix push all command and improve outgoing infobar
* repofilter: don't disable branch options menu at all (fixes #1962)
* repowidget: bring back 'Browse at revision' menu action (closes #1920)
* sync: check if curalias is not None before using it (fixes #1950)
* tortoisehgtools: do not crash when command cannot be executed
* wctxactions: allow to overwrite existing file on copy (fixes #1983)

* fix several unicode errors

== Improvements ==

* annotate: take into account annotate settings
* graft: add basic support of graft core command
* mergetools: add support for Devart Code Compare and Code Compare 3 (Free and Pro)
* workbench: bring to front when opening a repo on Single Workbench mode

----

= TortoiseHg 2.4.1 =

Released June 8, 2012

This is a scheduled minor release

== Packaged Versions ==

* Mercurial 2.2.2
* hgcr-gui fixes

== Bug Fixes ==

* qrename: fix unicode error when displaying patch name (fixes #1914)
* rejects: ensure editing doesn't start before first line (fixes #1424, #369)
* remove unused tortoisehg/util/hgshelve.py, refs #1908
* repoview: hide "drop line" when dragging an unapplied patch to an invalid drop location
* repowidget: correct parameter for shell_notify()
* repowidget: fix 'Push all' revision context menu (was doing 'Push to here' instead)
* repowidget: refresh wctx status of commit widget by tab change (fixes #1657)
* repowidget: take into account the tortoisehg.branchcolors setting (refs #1644)
* revdetails: do not crash on visual diff for unapplied patches (fixes #1772)
* sync: append svn+https and git schemes to urlparse.uses_netloc
* sync: convert non-ascii alias/url correctly at editurl action
* sync: fix several unicode issues at SaveDialog (fixes #1883)
* sync: fix URL displayed on direct pull
* update: fix target information when updating to null revision
* workbench: fix unicode error while loading the last session

== Improvements ==

* commit: automatically set 'close branch' commit message
* graft: display graft source in changeset info when available
* repofilter: show the 'default' branch as the first branch on the branch combobox
* repowidget: make links (addresses and paths) on the infobar clickable
* sync: basic support for default push URL
* workbench: activate the tab that was active on the previous session

[[OlderReleaseNotes]]